<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/04/15/Demo-post/"/>
      <url>/2023/04/15/Demo-post/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><table><thead><tr><th align="center">名称</th><th align="center">价格($&#x2F;件)</th><th align="center">库存</th><th align="center">发布时间</th><th align="center">链接</th><th align="center">截止日期</th><th align="center">颜色</th><th align="center">款式(儿童，成人)</th><th align="center">设计者</th></tr></thead><tbody><tr><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td></tr><tr><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td></tr><tr><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td><td align="center">·</td></tr></tbody></table><ul><li>早餐<ul><li>煎蛋：鸡蛋是早餐中的主角，煎蛋可以是早晨清新的开始。</li><li>烤面包：香脆的烤面包搭配牛油和果酱，是简单又美味的早餐选择。</li></ul></li><li>午餐<ul><li>意大利面：色香味俱佳的意大利面，是午餐中的经典美食。</li></ul></li></ul><blockquote><p>阳光透过窗子，折射出一个个<strong>耀斑</strong>， 简打开窗子，温暖的清风扑面而来，携卷着淡淡的花香，微微卷起脸庞<em>细碎的鬓角</em>，像是一位即将走向成熟的少女，在耳边低低地浅吟。 —— 《消失》</p></blockquote><h1 id="Heading-1"><a href="#Heading-1" class="headerlink" title="Heading 1"></a>Heading 1</h1><p>这个函数依然被命名为 <code>convert-string-to-color</code>，并接受两个参数：<code>str</code> 是要转换的字符串，<code>default-color</code> 是默认的颜色变量。在这个版本中，<code>default-color</code> 的值是 <code>#ff00ff</code>，而 <code>theme-color</code> 的值是 <code>#00ffff</code>。</p><h2 id="Heading-2"><a href="#Heading-2" class="headerlink" title="Heading 2"></a>Heading 2</h2><p>函数的实现方式是，首先使用 <code>convert</code> 函数将传递给它的字符串转换为颜色类型的变量。如果字符串无法转换为颜色类型的变量，函数将返回<strong>默认颜色变量</strong>。如果字符串的类型是 <code>&quot;default&quot;</code> 或 <code>&quot;theme&quot;</code>，函数将分别返回默认颜色或主题颜色。如果字符串的类型是其他类型（如数字、<em>布尔值</em>等），函数将直接返回默认颜色变量。</p><h3 id="heading-3"><a href="#heading-3" class="headerlink" title="heading 3"></a>heading 3</h3><p>示例用法将字符串 <code>&quot;red&quot;</code> 作为参数传递给函数，并提供了另一个颜色变量 <code>#ff0000</code> 作为默认颜色。因为字符串的值可以转换成颜色类型的变量，所以函数返回转换后的颜色变量，即 <code>red</code> 的颜色类型的变量。</p><h4 id="heading-4"><a href="#heading-4" class="headerlink" title="heading 4"></a>heading 4</h4><p>总的来说，<code>$color = convert(&quot;theme&quot;, color) || $minorColor</code> 的返回值取决于两个操作数的真假值。如果第一个操作数为真值，那么 <code>||</code> 运算符会直接返回第一个操作数的值，忽略第二个操作数。如果第一个操作数为假值，那么 <code>||</code> 运算符会返回第二个操作数的值，忽略第一个操作数。</p><h5 id="heading-5"><a href="#heading-5" class="headerlink" title="heading 5"></a>heading 5</h5><p>在这些示例中，我们使用 <code>convert</code> 函数将一个类型的值转换为另一个类型。可以根据具体情况选择要转换的类型，并将要转换的值作为参数传入函数中。使用 <code>convert</code> 函数可以方便地进行类型转换，帮助我们更好地操作和处理不同类型的数据。</p><h6 id="heading-6"><a href="#heading-6" class="headerlink" title="heading 6"></a>heading 6</h6><p>是的，GitHub 仓库的默认权限设置是允许所有人 clone 和 pull，但普通用户不能 push。如果需要对仓库进行更细粒度的权限控制，可以在仓库的“Settings”页面中的“Manage access”选项中添加或删除用户并设置相应的权限。</p><hr><ul><li><input disabled="" type="checkbox"> 十点</li><li><input checked="" disabled="" type="checkbox"> hexo-theme-last</li><li><input disabled="" type="checkbox"> Blog</li></ul><p>有序列表</p><ol><li>面包</li><li>牛奶</li></ol><div class="test-bttns" style="margin-top: 50px"><button id="test-info">INFO </button><button id="test-error">ERROR </button><button id="test-success">SUCCESS </button><button id="test-warning">WARNING</button></div>]]></content>
      
      
      <categories>
          
          <category> Quick Start </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Setup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Write IOC Container Step by Step</title>
      <link href="/2023/02/27/IOC-Write/"/>
      <url>/2023/02/27/IOC-Write/</url>
      
        <content type="html"><![CDATA[<p>Note about how to realize a IOC.</p><span id="more"></span><h2 id="Java-reflection"><a href="#Java-reflection" class="headerlink" title="Java reflection"></a>Java reflection</h2><p>let’s create an example class, that has all the <strong>setters</strong> and <strong>getters</strong> and <strong>constructors</strong>  and a <strong>method</strong> run();</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">    <span class="keyword">private</span> String color;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String name, <span class="type">int</span> year, String color)</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;running...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// getters, setters...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Get-class-object"><a href="#Get-class-object" class="headerlink" title="Get class object"></a>Get class object</h3><ol><li><p>className.class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Car.class;</span><br></pre></td></tr></table></figure></li><li><p>object.getClass()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>().getClass();</span><br></pre></td></tr></table></figure></li><li><p>Class.forname(“full path”)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;org.example.Car&quot;</span>)</span><br></pre></td></tr></table></figure></li></ol><p>Instantiate:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car)clazz.getDeclaredConstructor().newInstance();</span><br></pre></td></tr></table></figure><h3 id="Get-constructor"><a href="#Get-constructor" class="headerlink" title="Get constructor"></a>Get constructor</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getConstructors</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Car.class;</span><br><span class="line">    <span class="comment">// Constructor[] constructors = clazz.getDeclaredConstructors();</span></span><br><span class="line">    Constructor[] constructors = clazz.getConstructors();</span><br><span class="line">    <span class="keyword">for</span> (Constructor c : constructors) &#123;</span><br><span class="line">        System.out.println(c.getName()+c.getParameterCount());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Note: <code>getConstructors()</code> will only get public method. </p><p><code>getDeclaredConstructors()</code> will get all the method (public and private)</p><p>Get public Constructor</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Constructor</span> <span class="variable">c1</span> <span class="operator">=</span> clazz.getConstructor(String.class, <span class="type">int</span>.class, String.class);</span><br><span class="line"><span class="type">Car</span> <span class="variable">car1</span> <span class="operator">=</span> (Car)c1.newInstance(<span class="string">&quot;Tesla&quot;</span>, <span class="number">10</span>, <span class="string">&quot;white&quot;</span>);</span><br></pre></td></tr></table></figure><p>Get private Constructor</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Constructor</span> <span class="variable">c2</span> <span class="operator">=</span> clazz.getConstructor(String.class, <span class="type">int</span>.class, String.class);</span><br><span class="line">c2.setAccessible(True); <span class="comment">// make private able to access as public</span></span><br><span class="line"><span class="type">Car</span> <span class="variable">car2</span> <span class="operator">=</span> (Car)c2.newInstance(<span class="string">&quot;Tesla&quot;</span>, <span class="number">10</span>, <span class="string">&quot;white&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="Get-property"><a href="#Get-property" class="headerlink" title="Get property"></a>Get property</h3><p>public properties:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Field[] fields = clazz.getFields();</span><br></pre></td></tr></table></figure><p>private properties and set values :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getProperty</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Car.class;</span><br><span class="line">    <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> (Car)clazz.getDeclaredConstructor().newInstance();</span><br><span class="line">    Field[] fields = clazz.getDeclaredFields();</span><br><span class="line">    <span class="keyword">for</span> (Field f:fields) &#123;</span><br><span class="line">        <span class="keyword">if</span>(f.getName().equals(<span class="string">&quot;name&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// set allow access</span></span><br><span class="line">            f.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            f.set(car, <span class="string">&quot;Toyota&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(car);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Get-method"><a href="#Get-method" class="headerlink" title="Get method"></a>Get method</h3><p>public methods:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getMethods</span><span class="params">()</span> <span class="keyword">throws</span>  Exception &#123;</span><br><span class="line">    <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;Kia&quot;</span>, <span class="number">5</span>, <span class="string">&quot;red&quot;</span>);</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> car.getClass();</span><br><span class="line">    Method[] methods = clazz.getMethods();</span><br><span class="line">    <span class="keyword">for</span> (Method m: methods) &#123;</span><br><span class="line">        <span class="keyword">if</span>(m.getName().equals(<span class="string">&quot;toString&quot;</span>)) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">invoke</span> <span class="operator">=</span> (String)m.invoke(car);</span><br><span class="line">            System.out.println(<span class="string">&quot;toString() &quot;</span> + invoke);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>private methods:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Method[] methods = clazz.getDeclaredMethods();</span><br><span class="line"><span class="keyword">for</span> (Method m: methods) &#123;</span><br><span class="line">    <span class="keyword">if</span>(m.getName().equals(<span class="string">&quot;run&quot;</span>)) &#123;</span><br><span class="line">        m.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">invoke</span> <span class="operator">=</span> (String)m.invoke(car);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Steps-of-building-IOC"><a href="#Steps-of-building-IOC" class="headerlink" title="Steps of building IOC"></a>Steps of building IOC</h2><p>First lets create the structure:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">├─java</span><br><span class="line">│  └─org</span><br><span class="line">│      └─example</span><br><span class="line">│          ├─dao</span><br><span class="line">│          │  │  UserDao.java</span><br><span class="line">│          │  │</span><br><span class="line">│          │  └─impl</span><br><span class="line">│          │          UserDaoImpl.java</span><br><span class="line">│          │</span><br><span class="line">│          └─service</span><br><span class="line">│              │  UserService.java</span><br><span class="line">│              │</span><br><span class="line">│              └─impl</span><br><span class="line">│                      UserServiceImpl.java</span><br><span class="line">│</span><br><span class="line">└─resources</span><br><span class="line">        log4j2.xml</span><br></pre></td></tr></table></figure><p><code>UserDao</code> and <code>UserService</code> are interfaces and impl package contains the implement of interfaces.</p><h3 id="create-two-annotations"><a href="#create-two-annotations" class="headerlink" title="create two annotations"></a>create two annotations</h3><p>create to annotations <code>@Bean</code> and <code>@Di</code> under new package <code>org.example.annotation</code></p><p>Then we need to specify when the annotations works. Using meta annotations</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.annotation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Bean &#123;&#125;</span><br></pre></td></tr></table></figure><p>The <em>Target</em> annotation specifies which elements of our code can have annotations of the defined type. <code>TYPE</code> means it can use on class and interface.</p><p>The <em>Retention</em> Annotation sets the visibility of the annotation to which it is applied.  <code>RUNTIME</code> means the scope is when running.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.FIELD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Di &#123;&#125;</span><br></pre></td></tr></table></figure><p>And the <code>Di</code> works on properties.</p><p>So now we let <code>UserService</code> use <code>UserDao</code>, we can add the two annotations</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.example.annotation.Di;</span><br><span class="line"><span class="keyword">import</span> org.example.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> org.example.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="meta">@Di</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="implement-ApplicationContext"><a href="#implement-ApplicationContext" class="headerlink" title="implement ApplicationContext"></a>implement <code>ApplicationContext</code></h3><p>create the interface and add a <code>getBean()</code> method to it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ApplicationContext</span> &#123;</span><br><span class="line"></span><br><span class="line">    Object <span class="title function_">getBean</span><span class="params">(Class clazz)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then we need to implement the interface.</p><ol><li>return object</li><li>load bean according to rule of package</li></ol><p>scan all the class in the packages, see if there is <code>@Bean</code> annotation, if there is, then instantiate this class using reflection.</p><p>We also need a container to store all the bean objects. In spring, it uses map.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationApplicationContext</span> <span class="keyword">implements</span> <span class="title class_">ApplicationContext</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// store bean objects</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;Class, Object&gt; beanFactory = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getBean</span><span class="params">(Class clazz)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> beanFactory.get(clazz);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then create constructor with parameter, package path, scan rules. And find the Class with <code>@Bean</code> in it or its sub package.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationApplicationContext</span> <span class="keyword">implements</span> <span class="title class_">ApplicationContext</span>&#123;</span><br><span class="line">...</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AnnotationApplicationContext</span><span class="params">(String basePackage)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>because the <code>basePackage</code> is like <code>org.example.xxxx</code>, in order to find the file path, we need to replace <code>.</code> with <code>\</code>.</li><li>get the absolute path of package. (path after compilation)\</li><li>scan package, instantiate</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">AnnotationApplicationContext</span><span class="params">(String basePackage)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. . to \</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">packagePath</span> <span class="operator">=</span> basePackage.replaceAll(<span class="string">&quot;\\.&quot;</span>, <span class="string">&quot;\\\\&quot;</span>);</span><br><span class="line">        <span class="comment">//2. absolute path</span></span><br><span class="line">        Enumeration&lt;URL&gt; urls = Thread.currentThread().getContextClassLoader().getResources(packagePath);</span><br><span class="line">        <span class="keyword">while</span>(urls.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> urls.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> URLDecoder.decode(url.getFile(),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            rootPath = filePath.substring(<span class="number">0</span>, filePath.length() - basePackage.length());</span><br><span class="line">            loadBean(<span class="keyword">new</span> <span class="title class_">File</span>(filePath));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>implement <code>loadBean()</code></p><ol><li>if it is a folder</li><li>get all contents of folder</li><li>if content is null, return</li><li>if not empty, traverse all the content<ol><li>if it is folder, do recursion</li><li>if it’s an file, get package path+class Name</li><li>is file type is class</li><li>if is class type, replace <code>\</code> with <code>.</code>   ,  remove &#96;.class</li><li>if the class has annotation &#96;@Bean, instantiate using reflection<ul><li>get class object</li><li>if it’s not interface</li><li>whether has @Bean or not</li><li>instantiate</li></ul></li><li>then put the object to map<ul><li>if the class implements interface, use interface as key.</li></ul></li></ol></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadBean</span><span class="params">(File file)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">// 1. if it&#x27;s a folder</span></span><br><span class="line">    <span class="keyword">if</span>(!file.isDirectory()) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. get all contents of folder</span></span><br><span class="line">    File[] childrenFiles = file.listFiles();</span><br><span class="line">    <span class="comment">// 3. if null, or empty, return</span></span><br><span class="line">    <span class="keyword">if</span>(childrenFiles == <span class="literal">null</span> || childrenFiles.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4. if not empty, traverse them</span></span><br><span class="line">    <span class="keyword">for</span> (File child: childrenFiles) &#123;</span><br><span class="line">        <span class="comment">// 4.1 if still a directory, do recursion</span></span><br><span class="line">        <span class="keyword">if</span>(file.isDirectory()) &#123;</span><br><span class="line">            loadBean(child);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 4.2 it&#x27;s a file, get package path</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">pathWithClass</span> <span class="operator">=</span> child.getAbsolutePath().substring(rootPath.length() - <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// 4.3 is class type file</span></span><br><span class="line">            <span class="keyword">if</span>(pathWithClass.contains(<span class="string">&quot;.class&quot;</span>)) &#123;</span><br><span class="line">                <span class="comment">// 4.4 if it&#x27;s class type, replace \ with .</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">fullName</span> <span class="operator">=</span> pathWithClass.replaceAll(<span class="string">&quot;\\\\&quot;</span>, <span class="string">&quot;.&quot;</span>).replace(<span class="string">&quot;.class&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">                <span class="comment">// 4.5 if there is @Bean annotation</span></span><br><span class="line">                <span class="comment">// 4.5.1 get class object</span></span><br><span class="line">                <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(fullName);</span><br><span class="line">                <span class="comment">// 4.5.2 if it&#x27;s not interface</span></span><br><span class="line">                <span class="keyword">if</span>(!clazz.isInterface()) &#123;</span><br><span class="line">                    <span class="comment">// 4.5.3 has @Bean</span></span><br><span class="line">                    <span class="type">Bean</span> <span class="variable">annotation</span> <span class="operator">=</span> (Bean) clazz.getAnnotation(Bean.class);</span><br><span class="line">                    <span class="keyword">if</span>(annotation != <span class="literal">null</span>) &#123;</span><br><span class="line">                        <span class="comment">// 4.5.4 instantiate</span></span><br><span class="line">                        <span class="type">Object</span> <span class="variable">instance</span> <span class="operator">=</span> clazz.getConstructor().newInstance();</span><br><span class="line">                        <span class="comment">// 4.6 put it into map</span></span><br><span class="line">                        <span class="comment">// 4.6.1 if the class implements interface, use interface as key.</span></span><br><span class="line">                        <span class="keyword">if</span>(clazz.getInterfaces().length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                            beanFactory.put(clazz.getInterfaces()[<span class="number">0</span>], instance);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            beanFactory.put(clazz, instance);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="test"><a href="#test" class="headerlink" title="test"></a>test</h3><p>add a <code>add()</code> to interfaces and implement them</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.example.bean.AnnotationApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.example.bean.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.example.service.UserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUser</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationApplicationContext</span>(<span class="string">&quot;org.example&quot;</span>);</span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> (UserService) context.getBean(UserService.class);</span><br><span class="line">        userService.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>test this method, the out put is correct.</p><h2 id="Property-injection"><a href="#Property-injection" class="headerlink" title="Property injection"></a>Property injection</h2><p>we inject the property after getting all the bean objects.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">AnnotationApplicationContext</span><span class="params">(String basePackage)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    loadDi();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then implement <code>loadDi()</code>;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadDi</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1. traverse beanFactory</span></span><br><span class="line">    Set&lt;Map.Entry&lt;Class, Object&gt;&gt; entries = beanFactory.entrySet();</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;Class, Object&gt; entry: entries) &#123;</span><br><span class="line">        <span class="comment">// 2. get each object</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> obj.getClass();</span><br><span class="line">        Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="comment">// 3. travers to get each property of object</span></span><br><span class="line">        <span class="keyword">for</span> (Field field : declaredFields) &#123;</span><br><span class="line">            <span class="comment">// 4. is property has @Di annotation</span></span><br><span class="line">            <span class="type">Di</span> <span class="variable">annotation</span> <span class="operator">=</span> field.getAnnotation(Di.class);</span><br><span class="line">            <span class="keyword">if</span>(annotation != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// if it is a private property, we need to make it accessible</span></span><br><span class="line">                field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// 5. if it has, inject the object</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    field.set(obj, beanFactory.get(field.getType()));</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>And then add UserDao’s <code>add()</code> method  to UserService’s add method. to test.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Di</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;service...&quot;</span>);</span><br><span class="line">        userDao.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then run the previous test code, we see that the UserDao’s add method words well.</p>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IOC </tag>
            
            <tag> Java </tag>
            
            <tag> Spring6 </tag>
            
            <tag> Reflection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Framework 6.0 IoC</title>
      <link href="/2023/02/21/Spring-Framework-6-0-IoC/"/>
      <url>/2023/02/21/Spring-Framework-6-0-IoC/</url>
      
        <content type="html"><![CDATA[<p>Note of learning Ioc Introduction.</p><span id="more"></span><h2 id="what-is-IoC"><a href="#what-is-IoC" class="headerlink" title="what is IoC"></a>what is IoC</h2><blockquote><p>Inversion of Control is a principle in software engineering which transfers the control of objects or portions of a program to a container or framework. </p></blockquote><p>In the Spring framework, the interface <code>ApplicationContext</code> represents the IoC container. The Spring container is responsible for instantiating, configuring and assembling objects known as <code>beans</code>, as well as managing their life cycles.</p><h2 id="IoC"><a href="#IoC" class="headerlink" title="IoC"></a>IoC</h2><p>First let’s look at this question, how to do when we want to call the method of a object inside another object?</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">execute() &#123;</span><br><span class="line"><span class="comment">// here we want to call UserDao method add();</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    add() &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We can easily think of creating an object and call it.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserDao</span>();</span><br><span class="line">dao.add();</span><br></pre></td></tr></table></figure><p>But this way, the coupling is high. When the <code>UserDao</code> changes position, the code to calling it need to change too.</p><h4 id="Factory"><a href="#Factory" class="headerlink" title="Factory"></a>Factory</h4><p>An advanced method is using Factory.</p><p>We create a Factory class and implement the  function of<code>new UserDao()</code>. and then call the new method inside <code>UserService</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  UserDao <span class="title function_">getDao</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UserDao</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">execute() &#123;</span><br><span class="line"><span class="type">UserDao</span> <span class="variable">dao</span> <span class="operator">=</span> UserFactory.getDao();</span><br><span class="line">        dao.add();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But the coupling is not low.  we can lower it.</p><h4 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h4><p>Using xml parsing and factory and reflection, we can achieve a low coupling way of calling the method.</p><p>First we need to create the object using xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.xxx.UserDao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Then we create a factory class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span>  UserDao <span class="title function_">getDao</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">classValue</span> <span class="operator">=</span> <span class="string">&quot;value of the class&quot;</span> <span class="comment">// parse xml</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(classValue);</span><br><span class="line">        <span class="keyword">return</span> (UserDao)clazz.getDeclaredConstructor().newInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Instead of return the <code>new UserDao()</code> directly, we use the class declared in bean.</p><p>First we parse the xml and get the class value. Then use reflection to create the object.</p><p>So, when you change the location of your <code>UserDao</code> class, you only need to change the config file, no need to modify the code.</p><h2 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h2><p>There are two main interfaces of IOC</p><p><strong>BeanFactory</strong>: Base realization of IOC, an inner interfaced used in Spring, not for developer. And it won’t create object when loading the config file, only when using will the object created.</p><p><strong>ApplicationContext</strong>: sub interface of BeanFactory, will create object when loading config file. This is recommend because in web environment, we want the time wasting process of creating the object done before.</p><h4 id="some-of-the-classes"><a href="#some-of-the-classes" class="headerlink" title="some of the classes:"></a>some of the classes:</h4><table><thead><tr><th>class Name</th><th>Intro</th></tr></thead><tbody><tr><td><code>ClassPathXmlApplicationContext</code></td><td>Creating an IOC container object by parsing the xml config file under the class path</td></tr><tr><td><code>FileSystemXmlApplicationContext</code></td><td>Creating an IOC container object by parsing the xml config file under System file path</td></tr><tr><td><code>ConfigurableApplicationContext</code></td><td>sub interface of <code>ApplicationContext</code>, making <code>ApplicationContext</code> have open, close and refresh ability. using <code>refresh()</code>, <code>close()</code>, etc.</td></tr><tr><td><code>WebApplicationContext</code></td><td>For web Application, create IOC container object base on Web environment, and store the object in ServletContext.</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Spring6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring6 </tag>
            
            <tag> IoC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Framework 6.0 Overview</title>
      <link href="/2023/02/14/Spring-Framework-6-0-Overview/"/>
      <url>/2023/02/14/Spring-Framework-6-0-Overview/</url>
      
        <content type="html"><![CDATA[<p>This is a note of studying Spring.</p><span id="more"></span><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><ol><li><p>The Spring Framework (Spring) is <em>an open-source and lightweight application framework that provides infrastructure support for developing Java applications</em>.</p></li><li><p>simplifies enterprise applications</p></li><li><p>Spring has two parts, IOC and AOP</p><ul><li>IoC (<strong>Inversion of Control</strong>) Container is the core of Spring Framework. It creates the objects, configures and assembles their dependencies, manages their entire life cycle. </li><li><strong>Aspect-Oriented Programming</strong> (AOP) is one of the key elements of the Spring Framework. AOP praises Object-Oriented Programming in such a way that it also provides modularity. But the key point of modularity is the aspect than the class. AOP breaks the program logic into separate parts called concerns.</li></ul></li><li><p>Features:</p><ul><li>helps decouple, simplify development</li><li>Support AOP development</li><li>easy to test</li><li>easy to integrate with other frameworks</li><li>easy to do with transaction</li><li>easy to develop API</li></ul></li></ol><h2 id="Download"><a href="#Download" class="headerlink" title="Download"></a>Download</h2><p>download here: <a href="https://spring.io/projects/spring-framework#learn">https://spring.io/projects/spring-framework#learn</a></p><h2 id="How-to-start"><a href="#How-to-start" class="headerlink" title="How to start"></a>How to start</h2><ol><li><p>create a project using maven and then creating a module inside it.</p></li><li><p>Find the <code>pom.xml</code> file in module and modify it. Add some configs.</p><p>Add <code>spring context</code>  and <code>junit</code> dependency</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure><p>Then click this to refresh, maven will install the dependencies, if not, try this command <code>mvn clean install -U</code></p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302141605336.png" style="zoom:67%;" /></li><li><p>create a package and class and write some simple code.  For example: </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yao.spring6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;add ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Constructor function ran.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>create config file for spring</p><p>create a <code>xxx.xml</code> file in <code>source</code> under the  package directory you just created. New-&gt;XML Configuration File-&gt;Spring Config</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h2 id="Create-Class-Object-using-xml"><a href="#Create-Class-Object-using-xml" class="headerlink" title="Create Class Object using xml"></a>Create Class Object using xml</h2><h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    create a User object--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yao.spring6.User&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The <code>id</code> a unique identify, <code>class</code> is package path + class Name</p><h3 id="Test"><a href="#Test" class="headerlink" title="Test"></a>Test</h3><p>Then we can write test to test if it works.</p><ol><li><p>load spring configuration file</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>get object</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) context.getBean(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">System.out.println(user);</span><br></pre></td></tr></table></figure></li><li><p>call the method</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user.add();</span><br></pre></td></tr></table></figure></li></ol><p>So here is the total ways of test, the following is the complete code.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yao.spring6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUser</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUserObject</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;bean.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) context.getBean(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line"></span><br><span class="line">        user.add();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Let’s look at the out put of the test</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Constructor function ran.</span><br><span class="line">com.yao.spring6.User@1786f9d5</span><br><span class="line">add ...</span><br></pre></td></tr></table></figure><p>First we can see the constructor executed.</p><p>Then, how does the object created? Think of the way the object can be created. Apparently, the object is created using reflection.</p><p>reflection: </p><ol><li><p>load the <code>bean.xml</code> file</p></li><li><p>parse the file</p></li><li><p>get the <code>id</code> and <code>class</code> of <code>bean</code> tag </p></li><li><p>using reflection to create the object</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.yao.spring6.User&quot;</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) clazz.getDeclaredConstructor().newInstance();</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring6 </tag>
            
            <tag> Java EE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2023/01/31/hello-world/"/>
      <url>/2023/01/31/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p><table><thead><tr><th>地方卢萨卡对方卢卡斯京东方了啊</th><th>螺丝扣搭街坊辣椒粉</th><th>路上看到法律上积分拉法基啊</th><th>立刻就飞洒【的咖啡连锁店会计法</th><th>立刻撒旦发卢卡斯京东方</th><th>上课的法律</th><th>老是卡的肌肤流口水的</th><th>拉萨地方kds</th></tr></thead><tbody><tr><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td></tr><tr><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td></tr><tr><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td><td>·</td></tr></tbody></table><ul><li>十点<ol><li>十点</li><li>十点</li></ol></li><li>十点</li></ul><blockquote><p>The average amount that Americans spent on a new vehicle in March was $48,008, according to <a href="https://mediaroom.kbb.com/2023-04-11-After-Nearly-Two-Years,-New-Vehicle-Transaction-Prices-Fall-Below-Sticker-Price-in-March-2023,-According-to-New-Data-from-Kelley-Blue-Book">Kelley Blue Book</a> — or $171 below an average sticker price of $48,179 (including luxury and non-luxury cars). For comparison, just a year earlier, consumers were paying on average nearly $1,000 more than the sticker price for a new car.</p></blockquote><h1 id="Heading-1"><a href="#Heading-1" class="headerlink" title="Heading 1"></a>Heading 1</h1><p>这个函数依然被命名为 <code>convert-string-to-color</code>，并接受两个参数：<code>str</code> 是要转换的字符串，<code>default-color</code> 是默认的颜色变量。在这个版本中，<code>default-color</code> 的值是 <code>#ff00ff</code>，而 <code>theme-color</code> 的值是 <code>#00ffff</code>。</p><h2 id="Heading-2"><a href="#Heading-2" class="headerlink" title="Heading 2"></a>Heading 2</h2><p>函数的实现方式是，首先使用 <code>convert</code> 函数将传递给它的字符串转换为颜色类型的变量。如果字符串无法转换为颜色类型的变量，函数将返回<strong>默认颜色变量</strong>。如果字符串的类型是 <code>&quot;default&quot;</code> 或 <code>&quot;theme&quot;</code>，函数将分别返回默认颜色或主题颜色。如果字符串的类型是其他类型（如数字、<em>布尔值</em>等），函数将直接返回默认颜色变量。</p><h3 id="heading-3"><a href="#heading-3" class="headerlink" title="heading 3"></a>heading 3</h3><p>示例用法将字符串 <code>&quot;red&quot;</code> 作为参数传递给函数，并提供了另一个颜色变量 <code>#ff0000</code> 作为默认颜色。因为字符串的值可以转换成颜色类型的变量，所以函数返回转换后的颜色变量，即 <code>red</code> 的颜色类型的变量。</p><h4 id="heading-4"><a href="#heading-4" class="headerlink" title="heading 4"></a>heading 4</h4><p>总的来说，<code>$color = convert(&quot;theme&quot;, color) || $minorColor</code> 的返回值取决于两个操作数的真假值。如果第一个操作数为真值，那么 <code>||</code> 运算符会直接返回第一个操作数的值，忽略第二个操作数。如果第一个操作数为假值，那么 <code>||</code> 运算符会返回第二个操作数的值，忽略第一个操作数。</p><h5 id="heading-5"><a href="#heading-5" class="headerlink" title="heading 5"></a>heading 5</h5><p>在这些示例中，我们使用 <code>convert</code> 函数将一个类型的值转换为另一个类型。可以根据具体情况选择要转换的类型，并将要转换的值作为参数传入函数中。使用 <code>convert</code> 函数可以方便地进行类型转换，帮助我们更好地操作和处理不同类型的数据。</p><h6 id="heading-6"><a href="#heading-6" class="headerlink" title="heading 6"></a>heading 6</h6><p>是的，GitHub 仓库的默认权限设置是允许所有人 clone 和 pull，但普通用户不能 push。如果需要对仓库进行更细粒度的权限控制，可以在仓库的“Settings”页面中的“Manage access”选项中添加或删除用户并设置相应的权限。</p>]]></content>
      
      
      <categories>
          
          <category> Quick Start </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Setup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode 218. The Skyline Problem</title>
      <link href="/2023/01/31/LeetCode-218-The-Skyline-Problem/"/>
      <url>/2023/01/31/LeetCode-218-The-Skyline-Problem/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>A city’s <strong>skyline</strong> is the outer contour of the silhouette formed by all the buildings in that city when viewed from a distance. Given the locations and heights of all the buildings, return <em>the <strong>skyline</strong> formed by these buildings collectively</em>.</p><p>The geometric information of each building is given in the array <code>buildings</code> where <code>buildings[i] = [lefti, righti, heighti]</code>:</p><ul><li><code>lefti</code> is the x coordinate of the left edge of the <code>ith</code> building.</li><li><code>righti</code> is the x coordinate of the right edge of the <code>ith</code> building.</li><li><code>heighti</code> is the height of the <code>ith</code> building.</li></ul><p>You may assume all buildings are perfect rectangles grounded on an absolutely flat surface at height <code>0</code>.</p><p>The <strong>skyline</strong> should be represented as a list of “key points” <strong>sorted by their x-coordinate</strong> in the form <code>[[x1,y1],[x2,y2],...]</code>. Each key point is the left endpoint of some horizontal segment in the skyline except the last point in the list, which always has a y-coordinate <code>0</code> and is used to mark the skyline’s termination where the rightmost building ends. Any ground between the leftmost and rightmost buildings should be part of the skyline’s contour.</p><p><strong>Note:</strong> There must be no consecutive horizontal lines of equal height in the output skyline. For instance, <code>[...,[2 3],[4 5],[7 5],[11 5],[12 7],...]</code> is not acceptable; the three lines of height 5 should be merged into one in the final output as such: <code>[...,[2 3],[4 5],[12 7],...]</code></p><p><strong>Example 1:</strong></p><p><img src="https://assets.leetcode.com/uploads/2020/12/01/merged.jpg" alt="img"></p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><h3 id="Pre-analysis"><a href="#Pre-analysis" class="headerlink" title="Pre-analysis"></a>Pre-analysis</h3><p>Let’s draw the sky line first with out the graph but with the bunch of input numbers.</p><ol><li><p>We start from the leftmost building. $[2, 9, 10]$. We draw the left line of the building because the left line is not obscured by any other building.</p><p>Then we record the right line of the building, because we don’t know whether it will be covered or not.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010918017.png" style="zoom: 67%;" /><p>So the recorded lines are now $[line(9, 10)]$</p><p> Noticed that after $point B$,  we started to draw horizontal line to right, so we know  that the height is greater than the original height 0. So we record the point B. $[B] $</p><p> Also we save the height of this building [10]</p></li><li><p>Draw the second building as the same. $[3, 7, 15]$</p><p>The second building stars from 3, so we move B horizontally to C</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010936524.png" style="zoom:67%;" /><p>Then starts to draw the remaining left line and also puts its right line into the record lines $[line(9, 10), line(7, 15)]$</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010939789.png" style="zoom:67%;" /><p>Since the height changes at D, we record the D point to points list: [B, D]</p><p>Save height for this building [10, 15]</p></li><li><p>Let’s look at the third building [5, 12, 12]</p><p>We know the current highest building is 15 height, but the height of the third building is only 12 height, so the building is partially covered by the tallest building.</p><p>But we also record its right line to lines $[line(9, 10), line(7, 15), line(12, 12)]$</p><p>Save height: [10, 15, 12]</p></li><li><p>Before considering for the next building, we know that the current building’s left lines contains lines that is in front of the next building. So we pick  the most front line, line(7, 15).</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010952258.png" style="zoom:67%;" /><p>Since E is the right top point of the building, that means we’ve finished drawing the horizontal line of the tallest building, we remove the height from the height list [10, 12].</p><p>Now the highest building is at height 12, that means we can only draw down from 15 to 12.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302010955503.png" style="zoom:67%;" /><p>Notice there is a height change at point F, so record F. [B, D, F]</p></li><li><p>The next right line is line(9, 10). However, the tallest building is now 12 height, so the line(9, 10) is covered within the current tallest building.</p><p>Since the right line of the building is finished, we remove the height 10 . heights: [12]</p></li><li><p>As before, we draw next right line, remove height, and record the next point H</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011000159.png" style="zoom:67%;" /><p>heights: [], right lines: [],  record points: [B, D, F, H]</p></li><li><p>And then, as before, we draw the other two buildings.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011009556.png" style="zoom:67%;" /></li></ol><h3 id="Conclude"><a href="#Conclude" class="headerlink" title="Conclude"></a>Conclude</h3><p>From the analysis above, we distilled the main idea is we need to consider lines as separate parts not dealing the building as a whole.</p><p>So instead of adding line to lines list when we meets a new building, we can add the lines together and sort the lines by its position in the x-axis.</p><p>In order to distinguish the right line and the left line(because we need to know when to remove height from height list when finish drawing one building), we also need to store that property with other line information.</p><p>Also we need to pick the highest buildings each time, so we can store heights in a container that can get the biggest number quickly like Priority Queue or Set to reduce time.</p><p>So here comes the question, how do we sort the lines.</p><ol><li><p><strong>The first criteria is that we sort by the x-axis value.</strong></p></li><li><p>But what if the x-axis value is the same? then we need to distinguish the right and left line.</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011128277.png" style="zoom:67%;" /><p>For line $CD$ and $GD$, they have the same x-axis value but are different sides. In this case, we want the left side $GD$ calculate first. </p><p>Because if we remove $CD$ first, we max height would become zero(originally 15), which means there is a change in height, so we record point D. that is no the correct point.</p><p>So <strong>If the x-axis value are the same, we want the left side line gets first</strong></p></li><li><p>Let’s look at this situation</p><img src="https://cdn.jsdelivr.net/gh/DyingDown/img-host-repo/202302011120927.png" style="zoom:67%;" /><p>AE, AG are all covered by AB, so we want to calculate the tallest building first. FD, HD are covered under CD, so for the right line, we want to calculate the shorter building because we don’t want to remove the highest height so quickly so that the tallest building changed which actually not.</p><p>So, <strong>if the x-axis value are the same and they are both left sides, sort by heights in descending order, if both right sides, sort by heights in ascending order.</strong></p></li></ol><h4 id="Sorting-criteria-summary"><a href="#Sorting-criteria-summary" class="headerlink" title="Sorting criteria summary"></a>Sorting criteria summary</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> <span class="keyword">operator</span> &lt; (<span class="type">const</span> Line&amp; a) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(xAxis == a.xAxis) &#123;</span><br><span class="line">        <span class="keyword">if</span>(isRight == a.isRight &amp;&amp; isRight == <span class="literal">false</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> height &gt; a.height; </span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isRight == a.isRight &amp;&amp; isRight == <span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> height &lt; a.height;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isRight &lt; a.isRight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> xAxis &lt; a.xAxis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Easy-way-to-sort"><a href="#Easy-way-to-sort" class="headerlink" title="Easy way to sort"></a>Easy way to sort</h4><p>There is a tricky thing to write sort easier. Since the left sides and right sides have different order requirements, we can <em>assign the left sides height into negative</em> and sort it in all ascending order.</p><p>So we can just sort the lines in x-axis and heights. because left sides’ height are negative, they will appear  fronter than the right sides when x-axis are the same.</p><p>I use <code>pair&lt;int,int&gt;</code> and <code>sort()</code> will sorts the pairs in ascending order by the first element and then by second element.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">getSkyline</span>(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; buildings) &#123;</span><br><span class="line">        vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; lines;</span><br><span class="line">        vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; ans;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : buildings) &#123;</span><br><span class="line">            lines.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(i[<span class="number">1</span>], i[<span class="number">2</span>]));</span><br><span class="line">            lines.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(i[<span class="number">0</span>], -i[<span class="number">2</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        multiset&lt;<span class="type">int</span>&gt; maxHeight; <span class="comment">// there may be many buildings share the same height</span></span><br><span class="line">        <span class="type">int</span> prevHeight = <span class="number">0</span>;</span><br><span class="line">        maxHeight.<span class="built_in">insert</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">sort</span>(lines.<span class="built_in">begin</span>(), lines.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> i : lines) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i.second &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                maxHeight.<span class="built_in">erase</span>(maxHeight.<span class="built_in">find</span>(i.second)); <span class="comment">// jus erase(i.second) will erase all the elements equal to i.second</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                maxHeight.<span class="built_in">insert</span>(-i.second);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> currentHeight = *maxHeight.<span class="built_in">rbegin</span>(); <span class="comment">// .end() is the length of sets</span></span><br><span class="line">            <span class="keyword">if</span>(currentHeight != prevHeight) &#123; <span class="comment">// there is a height change</span></span><br><span class="line">                ans.<span class="built_in">push_back</span>(vector&lt;<span class="type">int</span>&gt;&#123;i.first, currentHeight&#125;); </span><br><span class="line">                prevHeight = currentHeight;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STL </tag>
            
            <tag> set </tag>
            
            <tag> sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win11 跳过CPU和TPM验证</title>
      <link href="/2021/10/29/Win11-%E8%B7%B3%E8%BF%87CPU%E5%92%8CTPM%E9%AA%8C%E8%AF%81/"/>
      <url>/2021/10/29/Win11-%E8%B7%B3%E8%BF%87CPU%E5%92%8CTPM%E9%AA%8C%E8%AF%81/</url>
      
        <content type="html"><![CDATA[<p>之前装过win11，笔记本没问题，去教室电脑装了一下，各种不支持，CPU和TPM都不支持。但是并不是真的是硬件不支持，可以跳过检测。</p><span id="more"></span><h2 id="方法一：修改ios文件（对我无效）"><a href="#方法一：修改ios文件（对我无效）" class="headerlink" title="方法一：修改ios文件（对我无效）"></a>方法一：修改ios文件（对我无效）</h2><p>首先条件是使用的win11的制作启动盘程序自动刻录的U盘。</p><ol><li>进入U盘找到镜像文件下的<code>source/appraiserres.dll</code></li><li>将他替换成win10镜像里的<code>appraiserres.dll</code>并设置为只读模式，或者，直接删除该文件，创一个文件夹或者文件命名为这个设置为只读模式。</li><li>然后就是通过引导程序安装</li></ol><p>对我不奏效，还是不行。</p><h2 id="方法二：修改注册表"><a href="#方法二：修改注册表" class="headerlink" title="方法二：修改注册表"></a>方法二：修改注册表</h2><p>该方法是在引导程序里修改注册表。并且使用的是自己手动刻录的ios镜像。</p><p>自己刻录的原因是因为：不知道为什么它给我自动刻录的不支持UEFI引导，然后就会显示电脑硬盘不支持什么的。</p><h3 id="自己刻录"><a href="#自己刻录" class="headerlink" title="自己刻录"></a>自己刻录</h3><ol><li><p>去官网下载ios镜像：<a href="https://www.microsoft.com/zh-cn/software-download/windows11">下载地址</a></p><p>下载到哪里无所谓，能打开就行。</p></li><li><p>下载<em>Refug</em> <a href="https://rufus.ie/downloads/">下载地址</a></p><p>一般选第一个就行，下载后运行然后在里面选择好ios和U盘，就可以开始了，进度条结束后就刻录好了。</p></li><li><p>使用U盘作为启动盘</p></li></ol><h3 id="跳过验证"><a href="#跳过验证" class="headerlink" title="跳过验证"></a>跳过验证</h3><p>进入之后一系列下一步后会遇见“不支持”的页面。在那个页面进行如下操作</p><ol><li>按<code>Shift+F10</code></li><li>输入<code>regedit</code>，此时打开注册表页面，编辑注册表</li><li>在左侧目录里找到<code>HKEY_LOCAL_MACHINE\SYSTEM\Setup</code>打开</li><li>右键，新建项，命名为<strong>LabConfig</strong></li><li>进入新建的项</li><li>右键，新建<em>DWORD</em>，命名<strong>BypassTPMCheck</strong>，设置值为1（此步目的跳过TPM验证）</li><li>新建<em>DWORD</em>，命名<strong>BypassSecureBootCheck</strong>，设置为1</li><li>关闭注册表和命令行窗口</li><li>点击左上角返回上一步</li><li>继续下一步，正常安装</li></ol><h2 id="方法三：用于直接升级（对我有效一半）"><a href="#方法三：用于直接升级（对我有效一半）" class="headerlink" title="方法三：用于直接升级（对我有效一半）"></a>方法三：用于直接升级（对我有效一半）</h2><p>前两种方法都是用于全新安装的，如果直接升级的话，通过修改当前系统注册表。</p><ol><li><p>新建一个空白文件，命名随意，位置随意</p></li><li><p>写入以下内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\Setup\MoSetup]</span><br><span class="line">&quot;AllowUpgradesWithUnsupportedTPMOrCPU&quot;=dword:00000001</span><br></pre></td></tr></table></figure><p>相当于在<code>HKEY_LOCAL_MACHINE\SYSTEM\Setup\MoSetup</code>注册表目录创建一个DWORD</p></li><li><p>将文件后缀改为<code>.reg</code>（表示注册表文件）</p></li><li><p>双击执行该文件</p></li></ol><p>然后再进行检测就发现对CPU和TPM的限制没了，这是别人成功的方法，对我来说，只是解除了CPU的限制，依然没有解除TPM的限制。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> System </tag>
            
            <tag> Win11 </tag>
            
            <tag> 跳过验证 </tag>
            
            <tag> CPU </tag>
            
            <tag> TMP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11,win10 电脑声音显示红叉</title>
      <link href="/2021/10/10/win11-win10-%E7%94%B5%E8%84%91%E5%A3%B0%E9%9F%B3%E6%98%BE%E7%A4%BA%E7%BA%A2%E5%8F%89/"/>
      <url>/2021/10/10/win11-win10-%E7%94%B5%E8%84%91%E5%A3%B0%E9%9F%B3%E6%98%BE%E7%A4%BA%E7%BA%A2%E5%8F%89/</url>
      
        <content type="html"><![CDATA[<p>昨天刚刚装了win11，又遇到了那个经典的bug，没有声音，声音图标显示一个叉号。这个之前在Win10我就遇见过好多回了，每次都搞好长时间。</p><span id="more"></span><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>不管是win10 还是win11，都出现过相同的bug。</p><p>首先检查驱动，查看是否安装声音驱动。通过那种驱动管家，我发现显示我已安装驱动。我又下载<code>realtek</code>自动安装，安装流程是先卸载已有的，然后重启，然后装新的。然后重启。</p><p>卸载完已有的重启之后，我发现我的声音恢复了，但是它紧接着马上又给你装，然后我的声音又没了，然后又重启还是没有。</p><p>至少这证明不是硬件问题。而是驱动的问题，并且两个系统都出现过，证明跟系统没关系。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><ol><li>在搜索框搜索<strong>设备管理器</strong>；<img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post20211010145631.png" alt="image-20211010145631689"></li><li>找到<strong>系统设备</strong><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post20211010145738.png" alt="image-20211010145738673"></li><li>在下面找到<strong>英特尔智音技术音频控制器</strong>（现已修复无法截图），很容易看到，有一个黄色三角形里面加一个感叹号的图标，那个是一个英特尔智音的一个什么东西，然后下面紧接着就是控制器。</li><li>把控制器卸载，同时选择”尝试卸载驱动程序“。（这好像是我之前遇到这个bug的解决方案）。这一次我搜到另一个方案：右键，选择<strong>更新驱动程序</strong>，点击从计算机中选择浏览 -&gt; 让我从可用的驱动程序列表里选取 -&gt; 选择<strong>High Definition Audio（高清晰度音频）</strong></li></ol><p>如果单纯只卸载那个黄色感叹号的那个，过一会儿它还是会自动出现，所以必须把控制器给卸载或者替换掉。</p>]]></content>
      
      
      <categories>
          
          <category> Windows </category>
          
      </categories>
      
      
        <tags>
            
            <tag> System </tag>
            
            <tag> Win11 </tag>
            
            <tag> error </tag>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsDelivr for GitHub Blog</title>
      <link href="/2021/08/31/jsDelivr-for-GitHub-Blog/"/>
      <url>/2021/08/31/jsDelivr-for-GitHub-Blog/</url>
      
        <content type="html"><![CDATA[<p>I’v been wanting to optimize my blog’s loading speed for a long time. However, even when I rewrote my theme, I still didn’t do it.</p><span id="more"></span><p>Finally, I want to post a new article with many images…(bla bla bla…)</p><p>I found that <strong>jsDelivr</strong> is great according to e-friends from the website.</p><p>At first I’m confused of getting an account of it. Ha Ha Ha. It just needs no account.</p><p>Since I’m using accelerating for GitHub, just add the prefix before original url:</p><p><code>https://cdn.jsdelivr.net/gh/Github_username/repo_name</code> and follow the actual path of the file in your repo.</p><p>It’s just that easy……</p><p>I’ve been funny for such a long time. (awkward😂)</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> jsDelivr </tag>
            
            <tag> essay </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PicGo+GitHub+Typora for Blog</title>
      <link href="/2021/08/31/PicGo-GitHub-Typora-for-Blog/"/>
      <url>/2021/08/31/PicGo-GitHub-Typora-for-Blog/</url>
      
        <content type="html"><![CDATA[<p>Recently, while trying to accelerate my blog load speed, I also want to get all my pictures a cdn. Also I’m tired of uploading the picture every time I want to quote a picture in my post, So I found a  softeware <strong>PicGo</strong>.</p><span id="more"></span><h2 id="Preparations"><a href="#Preparations" class="headerlink" title="Preparations"></a>Preparations</h2><p>I’m using <em>Typora</em> to edit markdown files.</p><p>And downloading <em>PicGo</em> is also needed. <a href="https://github.com/Molunerfinn/PicGo/releases/tag/v2.2.2">click here to download V2.2.2</a></p><p>Then you need to have a <em>GitHub Repository</em> to store your images.</p><h2 id="Setups"><a href="#Setups" class="headerlink" title="Setups"></a>Setups</h2><p>First, find <em>GitHub 图床</em> in <em>PicGo</em>.</p><p><img src="https://img-blog.csdnimg.cn/img_convert/6fb9009aa610f43a041eeaacb877bd0c.png" alt="image-20210831212725254"></p><ol><li><p>“设定仓库名”（set repository name)</p><p>the format is <code>GitHub_Username/repo_name</code>. Be sure to write username because I forgot to write it and I can’t upload the picture which confused me a long time.</p></li><li><p>“设定分支名”（set branch name）</p><p>usually is <code>main</code> or <code>master</code></p></li><li><p>“设定Token”（set token）</p><p>First you need to generate a token for PicGo.</p><p>Setting -&gt; Developer settings -&gt; Personal access tokens -&gt; generate a new token</p><p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213039.png" alt="image-20210831213039197" style="zoom: 67%;display:inline;" />  <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213129.png" alt="image-20210831213129878" style="zoom:50%;display:inline;" /> <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213256.png" alt="image-20210831213256531" style="zoom:80%;display:inline" /></p><p>Fill <em>Note</em> and select <em>Expiration</em>.</p><p>Then select scopes, according to the docs of PicGo, it only need to select repo</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213611.png" alt="image-20210831213611449" style="zoom: 73%;" /><p>Then go to the bottom <code>Generate Token</code>.</p><p>The token will be shown like this.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831213816.png" alt="image-20210831213816079" style="zoom:67%;" /><p>copy the token to PicGo. </p><p><strong>Note that you can save the token to a file because once you refresh the page, you can not see the content of token again.</strong></p></li><li><p>“指定存储路径”（set storage path）</p><p>Set the folder in your repo.</p></li><li><p>“设定自定义域名”（set custom domain）</p><p>In this situation, since I want to use <em>jsDelivr</em> to make my image faster and I don’t want to type <code>https://cdn.jsdelivr.net/gh/github_Username/repo_Name</code> every time, I can fill this to the blank.</p></li></ol><p>Then, you need to set for typora.</p><p><img src="https://img-blog.csdnimg.cn/img_convert/c378b6fb0908e405587e1e97ccf83051.png" alt="image-20210831214853064"></p><p>The configuration is this.</p><p>After all the settings, press the button <code>验证图片上传选项</code>to test whether all the functions can work.</p><p>At last, next time you copy a image into typora, it will automatically upload your picture to your “image hosing service” and returns an url that with the jsDelivr prefix.</p><h2 id="Some-errors"><a href="#Some-errors" class="headerlink" title="Some errors"></a>Some errors</h2><p>First one is that there is a file with the same name already exists in the repo. In this case, you can select <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831214316.png" alt="image-20210831214316812" style="zoom:50%;display:inline" /> this to rename your file using timestamp.</p><p>Other errors may be that you wrote your username or repo name wrong.</p><p>For more errors, you can check <img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831214514.png" alt="image-20210831214514413" style="zoom:50%;display:inline" />this to see the log file.</p><h2 id="For-blog"><a href="#For-blog" class="headerlink" title="For blog"></a>For blog</h2><p>In order to be easy, I did not create a new repository for images, I just want it to store in the Blog repo. So when I preview my posts in localhost, it works fine and the pictures all can be shown.</p><p>But a day later,when I tried to open my blog, I found that the pictures can’t load. I check the link and the picture can’t be opened. Then I went to see the repo and the pictures are just gone!!!</p><p>That’s because when I deploy my blog, I push all the things to the repo to cover the repo, because I didn’t have the pictures in my local files, the files covers the old repo, then the images are disappeared. And even the commits of PicGo disappeared. </p><p>At last, I still have to create a new repo for images.</p>]]></content>
      
      
      <categories>
          
          <category> Image Host </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> PicGo </tag>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The last Internal Node of a Complete Binary Tree</title>
      <link href="/2021/08/30/The-last-Internal-Node-of-a-Complete-Binary-Tree/"/>
      <url>/2021/08/30/The-last-Internal-Node-of-a-Complete-Binary-Tree/</url>
      
        <content type="html"><![CDATA[<p>This problem derives from <em>Heap Sort</em>. </p><span id="more"></span><blockquote><p>When you start to build the heap, you should start with the last internal node of the tree. And the index is usually <strong>$\frac{N}{2} - 1$</strong>, N is the total length of the array.</p></blockquote><p>But why is that ?</p><h2 id="Complete-Binary-Tree"><a href="#Complete-Binary-Tree" class="headerlink" title="Complete Binary Tree"></a>Complete Binary Tree</h2><p>First, you need to know that when representing a tree using array, the tree is a <em>Complete Binary Tree</em>. See the following picture.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831205110.svg" alt="complete-BT" style="zoom:75%;" /><p>The nodes in the array are stored like this: <code>[A, B, C, D, E, F, G, H, I, J]</code></p><p>And the number of nodes $N$ can be represent as $2^{0}+2^{1}+\ldots +2^{k}+s$.  （$k &#x3D; depth - 1$, $s$ is the number of nodes in the deepest layer）</p><h2 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h2><p>I’m proving this in a graphical layer.</p><p>First, let’s complete the tree to make it a <em>Full Binary Tree</em>.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831200317.svg" alt="graphviz (1)" style="zoom:75%;" /><p>As we can see, before completion, the last internal node is $E$.</p><p>Index of $E$ &#x3D;<strong>$N$ - Red_Nodes - Deepest_Layer_Nodes</strong></p><p>Let’s solve one by one.</p><ol><li><p><em>Deepest_Layer_Nodes($s$)</em>: </p><p>$$<br>N&#x3D;2^{0}+2^{1}+\ldots +2^{k}+s \\<br>\Rightarrow s&#x3D;N-2^{0}-2^{1}- \cdots -2^{k} \<br>$$<br>$k + 1$ is the depth of the tree. s</p></li><li><p><em>Red_Nodes( R )</em></p><p>As seen from the graph, number of red nodes is relative with the gray nodes.</p><p>Assume <em>$F$</em> is number of nodes of Full Binary Tree, <em>$D$</em> is the number of Gray Nodes.</p><p>$$<br>F&#x3D;2^{0}+2^{1}+\ldots +2^{k+1}\\<br>D&#x3D;F-N<br>$$</p><p>From the previous graph we can see that <strong>when D is odd, $R &#x3D; (D - 1) &#x2F; 2$</strong></p><p>Now let’s see another graph, when the number of gray nodes is even.</p><img src="https://cdn.jsdelivr.net/gh/dyingdown/img-host-repo/Blog/post/20210831205206.svg" alt="graphviz (2)" style="zoom:75%;" /><p><strong>When D is even, $R &#x3D; D &#x2F; 2$</strong></p><p>$\therefore R &#x3D; floor(D &#x2F; 2)$</p></li><li><p>Then $E&#x3D;2^{0}+\ldots +2^{k}-R$</p><p>$\because R&#x3D;floor\left( \dfrac{\left( 2^{0}+\ldots +2^{k+1}-N\right) }{2}\right) $ </p><p>$&#x3D;floor\left( \dfrac{1}{2}+2^{0}+\ldots +2^{k}-\dfrac{N}{2}\right) &#x3D;floor\left( \dfrac{1}{2}\right) +floor\left( 2^{0}+\ldots +2^{k}\right) -floor\left( \dfrac{N}{2}\right)$</p><p>$&#x3D;2^{0}+\ldots +2^{k}-floor\left(\dfrac{N}{2}\right)$</p><p>$\therefore E&#x3D;floor\left(\dfrac{N}{2}\right)$</p></li><li><p>Because the index started from 0, so $E &#x3D; floor\left(\dfrac{N}{2}\right) - 1$</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Data Structrue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Complete Binary Tree </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO博客主题开发——layout模板的样式</title>
      <link href="/2020/12/19/HEXO%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94layout%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%A0%B7%E5%BC%8F/"/>
      <url>/2020/12/19/HEXO%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94layout%E6%A8%A1%E6%9D%BF%E7%9A%84%E6%A0%B7%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h2 id="浏览框架结构"><a href="#浏览框架结构" class="headerlink" title="浏览框架结构"></a>浏览框架结构</h2><p>上一次已经生成了博客的基本框架，现在可以显示一个基本的博客了。我们先阅读一下给我们生成的框架大都是什么作用。</p><p>我的文件结构差不多是这样：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">├── layout # 布局文件夹</span><br><span class="line">│   ├── archive.pug # 归档页</span><br><span class="line">│   ├── category.pug # 分类页</span><br><span class="line">│   ├── includes # 复用的公共页</span><br><span class="line">│   │   ├── layout.pug # 页面布局</span><br><span class="line">│   │   └── recent-posts.pug # Home页面</span><br><span class="line">│   ├── index.pug # 主页</span><br><span class="line">│   ├── page.pug # 页面详情页</span><br><span class="line">│   ├── post.pug # 文章详情页</span><br><span class="line">│   └── tag.pug # 标签页</span><br><span class="line">├── _config.yml # 主题的配置文件</span><br><span class="line">└── source # 资源文件夹</span><br><span class="line">    ├── css # CSS</span><br><span class="line">    │   └── last.styl</span><br><span class="line">    ├── favicon.ico # 站点图标</span><br><span class="line">    └── js # JS</span><br><span class="line">        └── last.js</span><br></pre></td></tr></table></figure><h2 id="增加footer-pug"><a href="#增加footer-pug" class="headerlink" title="增加footer.pug"></a>增加footer.pug</h2><p>写一个footer.pug来专门存放页面底部的内容。</p><p>在<code>includes</code>下面新建文件，因为这个footer是要复用的.</p>]]></content>
      
      
      <categories>
          
          <category> HEXO Theme </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> hexo-theme-last </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HEXO主题开发——构建主题框架</title>
      <link href="/2020/12/18/HEXO%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%9E%84%E5%BB%BA%E4%B8%BB%E9%A2%98%E6%A1%86%E6%9E%B6/"/>
      <url>/2020/12/18/HEXO%E4%B8%BB%E9%A2%98%E5%BC%80%E5%8F%91%E2%80%94%E2%80%94%E6%9E%84%E5%BB%BA%E4%B8%BB%E9%A2%98%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>之前想写主题，纯粹是因为HEXO没发现我喜欢的主题，于是就想自己设计。但是抓耳挠腮了一两星期，仍然不知道怎么开始。最后大佬给我推荐了<a href="https://molunerfinn.com/make-a-hexo-theme/#%E7%94%A8Yeoman%E6%9D%A5%E7%94%9F%E6%88%90%E4%B8%BB%E9%A2%98%E7%BB%93%E6%9E%84">melody的作者的博文</a>，受益匪浅。</p><p>从他文章里看到了Yeoman，可以快速创建一个基本的框架。终于，我这个小白结束了手足无措的两星期。有了它给我创建好的框架，我就会比葫芦画瓢往里面添加了。</p><p>于是，这次从重构，仍然沿袭melody的文章的一些方法创建基本的框架。</p><h2 id="环境的安装"><a href="#环境的安装" class="headerlink" title="环境的安装"></a>环境的安装</h2><p>先创建一个干净的环境。新开一个博客文件，init文件，配置上传的地点。</p><p>由于主题还用<code>pug</code>和<code>stylus</code>渲染引擎，所以安装引擎</p><p>并且还需要<code>hexo-server</code>和<code>hexo-browsersync</code>帮助预览，所以也安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add hexo-server hexo-browsersync hexo-renderer-jade hexo-renderer-stylus</span><br></pre></td></tr></table></figure><p>安装完之后，再<code>hexo s</code>会出现如下的：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000 . Press Ctrl+C to stop.</span><br><span class="line">[Browsersync] Access URLs:</span><br><span class="line"> ----------------------------------</span><br><span class="line">          UI: http://localhost:3001</span><br><span class="line"> ----------------------------------</span><br><span class="line"> UI External: http://localhost:3001</span><br><span class="line"> ----------------------------------</span><br></pre></td></tr></table></figure><p>这里就发现<code>Browsersync</code>生效了。</p><p>然后就是生成框架了。还是直接用Yeoman来自动创建一下，方便。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install yo -g</span><br><span class="line">npm install generator-hexo-theme -g</span><br></pre></td></tr></table></figure><h3 id="yo-不是内部或者外部命令"><a href="#yo-不是内部或者外部命令" class="headerlink" title="yo 不是内部或者外部命令"></a>yo 不是内部或者外部命令</h3><p>但是我发现这次装这个遇到了bug。装完说yo不是内部或者外部命令。。。</p><p>我记得我第一遍可是非常顺利的，一下就装上了。然后查了一下，说要配置环境变量。Windows太麻烦了，而且找到了一个方法后，配置完了，重启了还是不生效。。。</p><p>我以为是因为我之前用的Linux，才那么顺利，于是又切换到Linux去，发现还是command not found……</p><p>而且到了Linux里，还说环境变量的问题，然后我又试了，还是不对。我又用用yarn进行安装，这回没报错，但是还是not found</p><p>在Linux下我又尝试了好多方法。。。失败告终，太难过了，凌晨量点半在这解决问题，搞不出来怎么能睡到着。。。之前为啥听顺利的啊？</p><p>第二天终于解决了那个问题。在Windows上，原来是我环境变量添加完之后，一直没最终确定而是直接叉掉了，所以一直每天加上….</p><p>具体如何添加，就是再<code>C:\Users\XXX\AppData\Roaming\npm</code>里找一下看有没有<code>yo.cmd</code>，要是有就直接把这个路径添加到系统变量<code>PATH</code>里面。确定之后重启。如果没有，就找你的<code>yo.cmd</code>在哪个目录下，就去把哪个路径添加到环境变量里。</p><h3 id="hexo-报错"><a href="#hexo-报错" class="headerlink" title="hexo 报错"></a>hexo 报错</h3><p>好不容易解决了这个问题。然后我发现，hexo命令又不好使了。。。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">internal/modules/cjs/loader.js:983</span><br><span class="line">  throw err;</span><br><span class="line">  ^</span><br><span class="line"></span><br><span class="line">Error: Cannot find module &#x27;C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo&#x27;</span><br><span class="line">    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:980:15)</span><br><span class="line">    at Function.Module._load (internal/modules/cjs/loader.js:862:27)</span><br><span class="line">    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:74:12)</span><br><span class="line">    at internal/main/run_main_module.js:18:47 &#123;</span><br><span class="line">  code: &#x27;MODULE_NOT_FOUND&#x27;,</span><br><span class="line">  requireStack: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我这次甚至搜不到解决方法了。。。第一次遇见这种问题。。。</p><p>我想起来，可能是为了解决上一个bug我uninstall了一下npm。然后我去看我的npm文件夹，发现里面去确实没有hexo相关的东西而且只剩下了yo。</p><p>然后尝试用<code>npm install hexo-cli -g</code>，发现报错了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm ERR! code ENOTFOUND</span><br><span class="line">npm ERR! errno ENOTFOUND</span><br><span class="line">npm ERR! network request to https://registry.npm.taobao.org/hexo failed, reason: getaddrinfo ENOTFOUND registry.npm.taobao.org</span><br><span class="line">npm ERR! network This is a problem related to network connectivity.</span><br><span class="line">npm ERR! network In most cases you are behind a proxy or have bad network settings.</span><br><span class="line">npm ERR! network</span><br><span class="line">npm ERR! network If you are behind a proxy, please make sure that the</span><br><span class="line">npm ERR! network &#x27;proxy&#x27; config is set properly.  See: &#x27;npm help config&#x27;</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     C:\Users\o_oyao\AppData\Roaming\npm-cache\_logs\2020-12-19T04_21_26_487Z-debug.log</span><br></pre></td></tr></table></figure><p>看起来貌似是我之前配置的淘宝源的问题。好吧，我不知道怎么解决，来试试用yarn装吧。</p><p>然而yarn给我卡在了这一步</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[4/4] Building fresh packages...</span><br><span class="line">[6/7] ⠐ hexo-math</span><br><span class="line">[7/7] ⠐ yo</span><br><span class="line">[-/7] ⠈ waiting...</span><br><span class="line">[-/7] ⠈ waiting...</span><br><span class="line">[-/7] ⠈ waiting...</span><br></pre></td></tr></table></figure><p>接着开始尝试从新添加一边淘宝镜像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure><p>再次安装，报错：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.3 (node_modules\hexo-cli\node_modules\fsevents):</span><br><span class="line">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.3: wanted &#123;&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;&#125; (current: &#123;&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;&#125;)</span><br><span class="line"></span><br><span class="line">npm ERR! code EEXIST</span><br><span class="line">npm ERR! path C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo</span><br><span class="line">npm ERR! dest C:\Users\o_oyao\AppData\Roaming\npm\hexo</span><br><span class="line">npm ERR! EEXIST: file already exists, cmd shim &#x27;C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo&#x27; -&gt; &#x27;C:\Users\o_oyao\AppData\Roaming\npm\hexo&#x27;</span><br><span class="line">npm ERR! File exists: C:\Users\o_oyao\AppData\Roaming\npm\hexo</span><br><span class="line">npm ERR! Remove the existing file and try again, or run npm</span><br><span class="line">npm ERR! with --force to overwrite files recklessly.</span><br><span class="line"></span><br><span class="line">npm ERR! A complete log of this run can be found in:</span><br><span class="line">npm ERR!     C:\Users\o_oyao\AppData\Roaming\npm-cache\_logs\2020-12-19T04_32_40_565Z-debug.log</span><br></pre></td></tr></table></figure><p>这次我发现<code>hexo</code>和<code>hexo-cli</code>文件都出现在了npm目录下一瞬间，然后就又消失了。然后就是会出现那个报错。</p><p>仔细阅读报错（虽然完全读不懂），但是我发现里面有一句话：<code>with --force to overwrite files recklessly</code>。然后结合前面的报错，说什么什么已存在（明明不存在啊。。。），然后就觉得，既然它认为存在，那就强制overwrite一下呗。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g --force</span><br></pre></td></tr></table></figure><p>然后，果然成功了！！！！</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm WARN using --force I sure hope you know what you are doing.</span><br><span class="line">C:\Users\o_oyao\AppData\Roaming\npm\hexo -&gt; C:\Users\o_oyao\AppData\Roaming\npm\node_modules\hexo-cli\bin\hexo</span><br><span class="line">+ hexo-cli@4.2.0</span><br><span class="line">added 66 packages from 338 contributors in 7.271s</span><br></pre></td></tr></table></figure><p>这是成功的信息，并且npm文件夹下面成功出现了<code>hexo-cli</code>文件夹。</p><p>再测试<code>hexo</code>命令，这次是真的有了。</p><h2 id="yo创建框架"><a href="#yo创建框架" class="headerlink" title="yo创建框架"></a>yo创建框架</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yo hexo-theme</span><br></pre></td></tr></table></figure><p>第三步会让你选，你要什么什么东西，反正我也没看懂，也不知道到底有什么用，记得上次貌似没有遇见这个问题。然后为了保险起见，全选了。（你的话你就自己看着办了）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">--=[ generator-hexo-theme ]=--</span><br><span class="line">? What is the theme name? last</span><br><span class="line">? Which template language to use? pug</span><br><span class="line">? Which stylesheet language to use? styl</span><br><span class="line">? Other technical features Hexo scripts directory (hexo plugins), EditorConfig file .editorconfig, node npm package.json</span><br><span class="line">   create package.json</span><br><span class="line">   create layout\archive.pug</span><br><span class="line">   create layout\category.pug</span><br><span class="line">   create layout\index.pug</span><br><span class="line">   create layout\page.pug</span><br><span class="line">   create layout\post.pug</span><br><span class="line">   create layout\tag.pug</span><br><span class="line">   create layout\includes\layout.pug</span><br><span class="line">   create layout\includes\recent-posts.pug</span><br><span class="line">   create source\favicon.ico</span><br><span class="line">   create source\css\last.styl</span><br><span class="line">   create source\js\last.js</span><br><span class="line">   create scripts\readme.md</span><br><span class="line">   create .editorconfig</span><br><span class="line">   create _config.yml</span><br></pre></td></tr></table></figure><p>OK，到这里算事生成主题框架了，注意，一定要在themes文件里的主题文件夹里（我的是hexo-theme-last）执行这个命令，不然就创建错位置了。</p><p>最后再预览一下，就能看到页面框架了。复制几篇博文进去。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo Theme </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-theme-last </tag>
            
            <tag> develope </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Last 主题重构</title>
      <link href="/2020/12/18/Last-%E4%B8%BB%E9%A2%98%E9%87%8D%E6%9E%84/"/>
      <url>/2020/12/18/Last-%E4%B8%BB%E9%A2%98%E9%87%8D%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<p>Hexo-theme-last是去年开发的了，但是一直没有完成 ，而且是处于什么也不会的基础上。所以…</p><span id="more"></span><p>之前看到过一个非常形象的形容：</p><blockquote><p> 公司项目的代码就像一座屎山，每写一点就如同往上贴一片屎。</p></blockquote><p>针对我的主题，我想说，太贴切了。</p><p>由于我啥也不会，导致我的代码全是一点点的拼凑。。。完全没有一点点的骨架。结构也不清晰。</p><p>于是，我专门去系统学了一下前端，然后现在开始打算从0开始重构。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-theme-last </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浙江省赛 Lucky 7 ZOJ 4036</title>
      <link href="/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Lucky-7-ZOJ-4036/"/>
      <url>/2020/10/03/%E6%B5%99%E6%B1%9F%E7%9C%81%E8%B5%9B-Lucky-7-ZOJ-4036/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a>Problem Description</h2><p>BaoBao has just found a positive integer sequence $a1,a2,…,an$ of length $n$ from his left pocket and another positive integer $b$ from his right pocket. As number 7 is BaoBao’s favorite number, he considers a positive integer $x$ lucky if $x$ is divisible by 7. He now wants to select an integer $a_k$ from the sequence such that $(a_k+b)$ is lucky. Please tell him if it is possible.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>There are multiple test cases. The first line of the input is an integer $T$ (about 100), indicating the number of test cases. For each test case:</p><p>The first line contains two integers $n$ and $b$ ($1≤n,b≤100$), indicating the length of the sequence and the positive integer in BaoBao’s right pocket.</p><p>The second line contains $n$ positive integers $a1,a2,…,an$ ($1≤ai≤100$), indicating the sequence.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case output one line. If there exists an integer $a_k$ such that $a_k∈a1,a2,…,an$ and $(a_k+b)$ is lucky, output “Yes” (without quotes), otherwise output “No” (without quotes).</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3 7</span><br><span class="line">4 5 6</span><br><span class="line">3 7</span><br><span class="line">4 7 6</span><br><span class="line">5 2</span><br><span class="line">2 5 2 5 2</span><br><span class="line">4 26</span><br><span class="line">100 1 2 4</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br></pre></td></tr></table></figure><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint"></a>Hint</h3><p>For the first sample test case, as 4 + 7 &#x3D; 11, 5 + 7 &#x3D; 12 and 6 + 7 &#x3D; 13 are all not divisible by 7, the answer is “No”.</p><p>For the second sample test case, BaoBao can select a 7 from the sequence to get 7 + 7 &#x3D; 14. As 14 is divisible by 7, the answer is “Yes”.</p><p>For the third sample test case, BaoBao can select a 5 from the sequence to get 5 + 2 &#x3D; 7. As 7 is divisible by 7, the answer is “Yes”.</p><p>For the fourth sample test case, BaoBao can select a 100 from the sequence to get 100 + 26 &#x3D; 126. As 126 is divisible by 7, the answer is “Yes”.</p><h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Start from the first number to check one by one.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t --) &#123;</span><br><span class="line">        <span class="type">int</span> n, b, temp, flag = <span class="number">0</span>;</span><br><span class="line">        cin &gt;&gt; n &gt;&gt; b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            cin &gt;&gt; temp;</span><br><span class="line">            <span class="keyword">if</span>((temp + b) % <span class="number">7</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag) cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> Other </tag>
            
            <tag> ZOJ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Chapter17</title>
      <link href="/2020/05/05/Chapter17/"/>
      <url>/2020/05/05/Chapter17/</url>
      
        <content type="html"><![CDATA[<p>她开始了做梦，奇奇怪怪，画面扭曲的梦。</p><p>梦境的终点是一扇门，推开它，进入下一个梦境，宣告死亡后也仍未结束。</p><span id="more"></span><p>冰冷的利刃划破了她的裙子，嘶嘶作响，连同大腿的皮肤在内，她还能感觉到痛和温热……笑声依旧盘旋，血在流淌。</p><p>响动。</p><p>巨大的响动突然惊扰了麻痹的神经，搁浅了她的梦。</p><p>铁门被打开，一下子冲走了昏暗交错的光线。</p><p>清幽的风打着旋呼呼窜进空气里，虽然也无法因此醒来，但觉得某个温柔守护的气息正在靠近这里……一定是他。</p><p>辰纱听到辰翔在喊她的名字，就如在绝境中向她伸出了手臂，用力拉着她脱离了浑浊浅白的幻象。</p><p>她看见他和肖影正一同翻滚在地面，匕首离开了肖影的手，掉落在他们的头顶，两只手在一前一后的争抢。</p><p>不要输……不要输……</p><p>打破那个毒咒，打破吧打破吧，求求你。</p><p>她不知道自己在向谁祈求。</p><p>可好像错了，不是神而是向着恶魔在祷告。</p><p>那把匕首重新落回了肖影的手里，紧握匕首的那只手高高举起……</p><p>“啊！！！！！！！！！”</p><p>…………</p><p>模糊看到雨水不断飞扑尾随，没有间隔的敲打在车窗。</p><p>一切的噩梦和黑夜都被阻隔在了窗外，包括带着诅咒的咆哮。如今，喧嚣，却宁静。</p><p>这是一段新的旅程。</p><p>以不算优美的旋律的开始，就好像一双无形的手毫无技巧的落在钢琴的键盘上，时而是黑，时而是白。钢琴在舞动，不再甘心被动的等待……自己奏响了自己。</p><p>很想叫出那个名字。</p><p>她知道他在这里。看不见，但有感觉，十分强烈的感觉。薰衣草的空气渐渐让恐惧不安的心渐渐平静下来，辰纱的双手搭在胸口上，仍然在祈祷，跳过闭上眼时空白掉的记忆，结果已经出来……是赢是输？</p><p>或许正一起迈向死亡。被折断了翅膀，彼此坠落在彼此的脚下。</p><p>眼前不断有光影掠过，她被轻轻拖起了身子，落进某个温暖的怀抱。</p><p>从努力睁开的眼缝中看见了一些面孔，还有倒转的时钟。</p><p>指针指向了12点，零时。这是最后看到的风景。</p><p>然后进入完全的黑暗。</p><p>“纱纱！纱纱！”</p><p>很久以后她听到有人在叫她的名字。</p><p>浑身软的像被抽去了骨头支架，她躺在柔软云朵中，没有力气却轻盈无比。赤裸的身躯，被包裹在洁白的被单下，她仰头环视，白茫茫的一片，宽而广，她蜷缩着身子，被他抱在怀里……她摸到了他的脸，不是虚幻的烟雾，她和他，终迷失在天堂的尽头，就在那个最后的零时。</p><p>她坐起身，被单如羽衣一般在他面前滑落……最爱的气息在皮肤与皮肤光滑的摩擦下不断注入她的身体，他捧起她的脸，她看见他的眸子里刻满了她的名字，纱纱，纱纱，即使纯白如雪，仍无法将荒谬伪装。</p><p>猩红在眼中扩散。</p><p>灵魂变成了幽暗的魅，从体内迸发而出，大笑的燃起了火把，焚烧了天堂。所有的白色在消融，黑色的浓烟在翻滚，魔鬼从地狱里爬出，疯狂扭动着身躯，跳着宴会的舞蹈。</p><p>罪恶的你们是罪恶的。</p><p>听到这个声音时唇仍贴着颤抖的唇。身体在烈火中煎熬，无数的蔓藤缠绕在她和他的身体，紧紧相连痛苦而极乐。</p><p>她终于从镜子中触摸到最真实的他，他把她的手放在心口的地方，他在向她微笑，和从前一样，但是他很痛，因为他不断的张开嘴说，我爱你，我也爱你。</p><p>魔鬼发出了更张狂的笑。</p><p>神在面前不屑的闭上眼，用手指着赤裸的他们，接受审判吧。</p><p>她低下头，牢牢却卑微的抱紧他。</p><p>轮回，转世。</p><p>下辈子，做一棵树或是一片海。守望他的经过，或是一生的等待。</p><p>也许和他回到同一个母体。</p><p>就完完整整的成为一个人吧……那样不管怎么样都能理所当然的在一起，没有惩罚，没有罪恶，也没有指责。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Cage</title>
      <link href="/2020/05/05/Cage/"/>
      <url>/2020/05/05/Cage/</url>
      
        <content type="html"><![CDATA[<p>我站在对面的街角，看着人来人往的人群。</p><p>那么多的面孔，各自相遇，各自擦身，带着匆匆的脚步。</p><p>人海茫茫。</p><p>我可以遇到很多的人，但为什么偏偏是他？</p><p>从我出生的那刻起他就驻留在了我的生命，牢牢扎根，从未移动。有时候我会觉得很痛，因为我已经为他所牵扯缠绕，从缘分到命运。我笑着接受这份爱，却哭着拥有了它，不是后悔，只是太过沉重，沉重到无法呼吸。</p><span id="more"></span><p>于是开始朝着人群迈步。</p><p>接下来还会遇到谁？</p><p>走在相同的路上，并肩或是错落。</p><p>也许只是一个对彼此来说的过客。</p><p>我聆听着自己的心跳，就像时间在苍老的流逝，一点一滴的带走手中为数不多的快乐，渐渐的……掌心只剩下残影。</p><p>不管他如何的要躲避她，辰纱还是苦苦执着的追随在他身后。</p><p>明知道他不会再回过头来看她一眼。</p><p>辰纱又去了那条街。</p><p>站在不算宽的马路对面，眺望他的身影慢慢消失在那个古怪的门中。</p><p>她突然流出眼泪。她伸出手擦了擦眼睛，模糊一片。盛开的玫瑰，给了她什么呢？他不再是她哥哥……从此以后，也许连亲人也算不上是，形同陌路。他离开了那个园子，她还守在蔷薇化为的废墟边，看着禁忌的蔓藤从地面慢慢爬满自己的身体，被困在牢笼中……她亲手造就的牢笼。</p><p>去吧……</p><p>朝着有他的方向。她举起脚，庆幸的是仍旧被他牵引。</p><p>为什么还能活着……是因为他的存在。</p><p>伤害，是爱。</p><p>爱是伤害。</p><p>马路中间的斑马线，走到十字路口的中央时候，她停了下来。</p><p>哥哥……我只是想和你一起回家。</p><p>她的脚步踌躇不前，她犹犹豫豫的想象，假如她再次站到他面前告诉他这句话后，他的表情。是愤怒，是不屑，还是，漠然……？</p><p>一辆卡车侧身驶来，突然听到刺耳的喇叭声，她转过头……时间的流逝突然变得缓慢，那些记忆，那些画面，一幅一幅，迎面穿梭，不停倒转。</p><p>辰纱突然觉得身体在缩小，变成那个步履蹒跚学走路的自己，他就站在她的面前朝她微笑的伸出双手。</p><p>过来啊过来啊 到哥哥这里来</p><p>仍然犹豫。</p><p>跨过去，跨过这道时间的坎，是相聚……还是永别。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Blue Blue Bear</title>
      <link href="/2020/05/05/Blue-Blue-Bear/"/>
      <url>/2020/05/05/Blue-Blue-Bear/</url>
      
        <content type="html"><![CDATA[<p>辰纱没再想关于生日的问题，她在思考怎么让他不那么难过呢，如果今天能让哥哥开心起来的话，她做什么都愿意。</p><p>什么都行……</p><p>“嗯。”</p><p>仿若这是一个全新的开始，他牵着她的手离开了这里，朝着另一条有光亮的街踏去。</p><p>辰翔带她进了一家文具店，小小的店面在拐角不太显眼的地方，很不容易被发现。</p><p>“老板，”他很兴奋的走到柜台前，“上个礼拜我预定了一款blue blue熊的钥匙扣，说好今晚来取货的。”</p><p>站在柜台里的是个年轻时髦的女孩子，正在用小刀修剪着手指甲。听到他询问一脸莫名其妙的样子。</p><p>“blue blue熊？？”女孩子放下小刀，摊开双手依次吹了吹，“你说的那个钥匙扣早就不流行了，我们店里怎么可能卖这种过时的东西，弄错了吧。”</p><p>“怎么可能呢？？就是听说贵店能够定做得到，我上个礼拜才会在这里付了定金。”</p><p>他焦急的样子让女孩子愣了愣。</p><p>“爸爸。”女孩子转过头，朝着里面一间小房间喊的很大声。“您出来看看嘛。”</p><p>“什么事啊，吵死人了！”瘦矮的中年男人很不耐烦打开门，看到辰翔的脸以后，露出很不妙的神色。</p><p>“对，就是您，上次我……”</p><p>“哎呀，”中年男人拍了拍自己的脑袋打断他，“这位顾客，真是抱歉啊，那个钥匙扣在昨天提前做好后，已经被人买走了。虽然你是先付了定金，可昨天跑来一个男生，说要买，我起先也不肯卖给他，可他求了我很久，说是跑遍全城发现只有这里才有卖的，他没办法了，无论如何要买下来，想送给一位很重要的人，还愿意多出三倍的价钱，我就卖给了他，对不起啊……我把定金退给你。”</p><p>辰翔的手里攥着几张被褶皱的钞票，没有继续找老板理论。静静的他牵着她推开门走出去。</p><p>“抱歉纱纱，”他坐在路边的台阶上，垂头丧气的样子让她惊慌无措，“本来想送给你做生日礼物，可没想到……”</p><p>“没关系。今天你能陪我，我就很开心了。”</p><p>她赶紧靠着他坐下来，握住了他无力垂搭在膝盖上的手背。他还在低着头，看起来不是一般的失落。可在这一天，她卑微又卑微的愿望，不过是希望他能快乐……</p><p>blue blue熊。</p><p>仅仅是听他提起这个名字，辰纱就觉得胸口一阵涌动，像是眼泪在心里头叮叮咚咚欢快的跳跃……</p><p>6岁生日的时候，爸爸送给了她一套玩具，是七个不同颜色的小熊，每一个代表一个星期，爸爸说，送给他最宝贝的女儿纱纱，希望纱纱今后的人生，就像这七只小熊一样，幸福开心，散发七彩光芒。爸爸还说，今后不管多少年，都是由这七天组成，小熊就像永远守护她的家人，陪伴在她身边渡过每一个春夏秋冬，欢喜悲忧……</p><p>爸爸死了。</p><p>小熊的家也散了。</p><p>搬进新家的时候，被妈妈冷漠的装到废弃纸箱里，扔进了垃圾车。那个时侯她已经不再懂得开口说话，只是蹲在门前默默的流泪，是哥哥追着那个大大的卡车跑了好几条街，才将它们重新捡回来。可蓝色的小熊的不见了，就像他们的家一样，破碎了，永远不再完整。</p><p>“哥……”她伏在辰翔的身上，他好像还在难过，她的眼泪顺着面颊落在他的肩头，浸湿了他白色衣领的一角。</p><p>“没关系哥……你就是那只小熊。”</p><p>“你就是那只遗失掉的小熊……代替它保护我，甚至代替爸爸疼爱我，哥哥……要是没有你的话，我早已经不在了。”</p><p>“不在了……”</p><p>……</p><p>或许还活着，但一定被推进了无尽的深渊，少了他的那片温暖，她早就被扔在无人问津的一角，然后慢慢结成了冰，永不融化的冰。</p><p>他仰起头，望着天空刚探出脑袋的星星。</p>]]></content>
      
      
      <categories>
          
          <category> Essay </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CSS 高度塌陷 Height crash</title>
      <link href="/2020/04/09/CSS-%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7-Height-crash/"/>
      <url>/2020/04/09/CSS-%E9%AB%98%E5%BA%A6%E5%A1%8C%E9%99%B7-Height-crash/</url>
      
        <content type="html"><![CDATA[<p>Environment: When you set float to an element, and it’s parent’s width or height follows the element’s width or height. Then, the parent will lose its width or height and it’s called height crash. Here are some solutions.</p><span id="more"></span><h2 id="Fixed-height"><a href="#Fixed-height" class="headerlink" title="Fixed height"></a>Fixed height</h2><p>Set the height of the parent to a fixed number. This will work but, when the child element changed, the parent element won’t change. So this solutions works but a good one.</p><h2 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h2><p>According to the Standard of <strong>W3C</strong>, every element in the page has a hidden attribute called <strong>BFC</strong>, short for <strong>Block Formatting Context</strong>. This attribute is off by default.</p><h3 id="Attributes-when-BFS-is-on"><a href="#Attributes-when-BFS-is-on" class="headerlink" title="Attributes when BFS is on"></a>Attributes when BFS is on</h3><ol><li>Vertical margin of parent item won’t overlap with child item</li><li>BFC-on element won’t be covered by float element</li><li>BFC-on element can contain float child element</li></ol><h3 id="How-to-open-BFC"><a href="#How-to-open-BFC" class="headerlink" title="How to open BFC"></a>How to open BFC</h3><ol><li><p>Set float to parent item</p><p>This way will make the parent item lose its width, and  following item will still move</p></li><li><p>Set absolute position for parent item</p><p>The same as the first one</p></li><li><p>Set <code>inline-block</code> for item</p><p>Also lose width</p></li><li><p>Set the value of <code>overflow</code> to a non-visible value</p><p><strong>This works!</strong></p></li></ol><h2 id="Overflow"><a href="#Overflow" class="headerlink" title="Overflow"></a>Overflow</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow</span>: hidden;</span><br><span class="line"><span class="attribute">overflow</span>: auto;</span><br></pre></td></tr></table></figure><p>If there is a relative positioned item in the parent element and the item is out of the range, you won’t be able to see it.</p><p>In IE6 or lower, the browser doesn’t support BFC, it has an attribute call <strong>hasLayout</strong>, familiar to BFC.</p><h2 id="Zoom-IE6"><a href="#Zoom-IE6" class="headerlink" title="Zoom (IE6)"></a>Zoom (IE6)</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* IE6 */</span></span><br><span class="line">zoom: <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>Zoom means enlarge the element. Value 1 means the element is the same size as before.</p><p>Use this way to enable hasLayout.</p><h2 id="Set-width"><a href="#Set-width" class="headerlink" title="Set width"></a>Set width</h2><p>Set width to a certain value for the parent element.</p><h2 id="Blank-element"><a href="#Blank-element" class="headerlink" title="Blank element"></a>Blank element</h2><ol><li>Add a blank div at the bottom of the parent element. Clear float of the blank div.</li></ol><p>Since this element is not float, the parent height will be stretched. </p><p>Basically has no side effect.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.clear</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">clear</span>: both;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clear&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>However, this will add redundant struct in page. So this is not recommended.</p><ol start="2"><li>Add a Pseudo Class <code>:after</code></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.clearfix:after &#123;</span><br><span class="line">    /* add content */</span><br><span class="line">    content: &quot;&quot;;</span><br><span class="line">    /* change into a block element */</span><br><span class="line">    display: block;</span><br><span class="line">    /* clear float on both side */</span><br><span class="line">    clear: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1 clearfix&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>In IE6, <code>:after</code> is not supported, so we still need <code>zoom</code>.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span> &#123;</span><br><span class="line">    zoom: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Web Study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Rules</title>
      <link href="/2020/02/11/CSS-Rules/"/>
      <url>/2020/02/11/CSS-Rules/</url>
      
        <content type="html"><![CDATA[<p>Some of the basic rules of CSS and also a learning and reviewing Records of CSS.</p><span id="more"></span><h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><p>id selectors(one container)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>:green;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">p</span> id=&quot;name&quot;&gt;&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure><p>class selectors(multiple container)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.name</span> &#123;</span><br><span class="line"><span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">p</span> class=&quot;name&quot;&gt;&lt;/<span class="selector-tag">p</span>&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Knowledge points </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Calculator (double stack)</title>
      <link href="/2019/11/12/Calculator-double-stack/"/>
      <url>/2019/11/12/Calculator-double-stack/</url>
      
        <content type="html"><![CDATA[<p>The pre-knowledges you should know is priority of operator. Priority is the rule that determines when we meet two operators, which to calculate first. Like 3+2*5, we calculate 2 * 5 first.</p><p>The priority of operators are:</p><span id="more"></span><p>$$<br>)&gt;\times &#x3D; \div &gt;+&#x3D;-&gt;(<br>$$</p><h1 id="Illustration"><a href="#Illustration" class="headerlink" title="Illustration"></a>Illustration</h1><p>The principle of the operation is to use double stack, one is for operator and one is for operands.</p><p>Here are the way it works.</p><p>Given an arithmetic, like $3\times2+(4-1)$.</p><p>First we prepare two stacks.</p><img src="https://s2.ax1x.com/2019/11/20/MWrrqg.png" style="zoom:67%;" /><p>Then we receives an operands 3 and push it into the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWsneg.png" style="zoom:67%;" /><p>And then we receives an operator $\times$ and push it into the operator stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWs0YR.png" style="zoom:67%;" /><p>The next is 2.</p><img src="https://s2.ax1x.com/2019/11/20/MWsRTH.png" style="zoom:67%;" /><p>Next is an operator $+$. We compare the precedence of the operators, the $\times$ is prior than $+$. So we pop $\times$ out of the stack. And $\times$ needs two parameters, so we push two operands out of the operands stack. And then do the calculation $3\times2$. We get $6$. Push $6$ to the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWso1P.png" style="zoom:67%;" /> <p>Don’t forget the +. Push it in.</p><img src="https://s2.ax1x.com/2019/11/20/MWyVhR.png" style="zoom:67%;" /><p>Then comes to (. We find that the ( is prior to +, so we push ( to the stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWyDEQ.png" style="zoom:67%;" /><p>Then we push 4 to stack.</p><img src="https://s2.ax1x.com/2019/11/20/MWyhbF.png" style="zoom:67%;" /><p>And $-$, it priority is prior than ( so we push it in.</p><img src="https://s2.ax1x.com/2019/11/20/MWyjbD.png" style="zoom:67%;" /><p>Next is 1.</p><img src="https://s2.ax1x.com/2019/11/20/MW6Ar8.png" style="zoom:67%;" /><p>And the special ). When we meet ), we pop all the elements in operator stack and to the operation until we meet an (. First we pop out $-$ and it needs two parameters, so we pop out two element from operands stack. and calculate $4-1$ we get 3 and push it in the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MW63rT.png" style="zoom:67%;" /><p>After that ,we meets the (, so we pop the ( out and we are done with the brackets thing.</p><img src="https://s2.ax1x.com/2019/11/20/MW6JZF.png" style="zoom:67%;" /><p>Finally we receives all the elements, however, there is still elements left in the operator stack which means we still need to do the calculation. We pop the operators out and do the calculation until there is nothing in the operation stack.</p><p>So we pop out + and it need two parameters. So we pop out 3 and 6 and do $3+6$ and push the result in the operands stack.</p><img src="https://s2.ax1x.com/2019/11/20/MW6yZD.png" style="zoom:67%;" /><p>So the only elements left in the operands stack is the final answer.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><h3 id="Calculation-h"><a href="#Calculation-h" class="headerlink" title="Calculation.h"></a>Calculation.h</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by o_oyao on 2019/10/2.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> ELEMENTARY_ARITHMETIC_CALCULATION_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELEMENTARY_ARITHMETIC_CALCULATION_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Calculation</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">static</span> std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; precedence;</span><br><span class="line">    <span class="type">static</span> std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; parameters;</span><br><span class="line">    <span class="type">static</span> std::map&lt;<span class="type">char</span>, <span class="type">char</span>&gt; brackets;</span><br><span class="line">    <span class="type">static</span> <span class="type">double</span> para[<span class="number">2</span>]; <span class="comment">// temporarily store the parameters of the operator</span></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">operation</span><span class="params">(<span class="type">char</span> opt, <span class="type">double</span> parameter1, <span class="type">double</span> parameter2 = <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">isOperator</span><span class="params">(<span class="type">char</span> opt)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">getNum</span><span class="params">(std::string &amp;str, <span class="type">int</span> &amp;i)</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">static</span> <span class="type">bool</span> isLegal;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">double</span> <span class="title">calculate</span><span class="params">(std::string &amp;formula)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span> <span class="comment">//ELEMENTARY_ARITHMETIC_CALCULATION_H</span></span></span><br></pre></td></tr></table></figure><h3 id="Calculation-cpp"><a href="#Calculation-cpp" class="headerlink" title="Calculation.cpp"></a>Calculation.cpp</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by o_oyao on 2019/10/2.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Calculation.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line">std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; Calculation::precedence;</span><br><span class="line">std::map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; Calculation::parameters;</span><br><span class="line">std::map&lt;<span class="type">char</span>, <span class="type">char</span>&gt; Calculation::brackets;</span><br><span class="line"><span class="type">double</span> Calculation::para[<span class="number">2</span>];</span><br><span class="line"><span class="type">bool</span> Calculation::isLegal;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Calculation::init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">/* declare parameters */</span></span><br><span class="line">    parameters[<span class="string">&#x27;+&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;-&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;*&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;/&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    parameters[<span class="string">&#x27;_&#x27;</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/* declare precedence */</span></span><br><span class="line">    precedence[<span class="string">&#x27;+&#x27;</span>] = <span class="number">4</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;-&#x27;</span>] = <span class="number">4</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;*&#x27;</span>] = <span class="number">3</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;/&#x27;</span>] = <span class="number">3</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;_&#x27;</span>] = <span class="number">2</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;(&#x27;</span>] = <span class="number">1</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;[&#x27;</span>] = <span class="number">0</span>;</span><br><span class="line">    precedence[<span class="string">&#x27;&#123;&#x27;</span>] = <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">/* declare brackets */</span></span><br><span class="line">    brackets[<span class="string">&#x27;)&#x27;</span>] = <span class="string">&#x27;(&#x27;</span>;</span><br><span class="line">    brackets[<span class="string">&#x27;&#125;&#x27;</span>] = <span class="string">&#x27;&#123;&#x27;</span>;</span><br><span class="line">    brackets[<span class="string">&#x27;]&#x27;</span>] = <span class="string">&#x27;[&#x27;</span>;</span><br><span class="line">    <span class="comment">/* initial the para array */</span></span><br><span class="line">    para[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    para[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Calculation::getNum</span><span class="params">(std::string &amp;str, <span class="type">int</span> &amp;i)</span> </span>&#123;</span><br><span class="line">    <span class="type">double</span> integer = <span class="number">0.0</span>; <span class="comment">// the integer part</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">isdigit</span>(str[i])) &#123; <span class="comment">// sum up the integers</span></span><br><span class="line">        integer = integer * <span class="number">10</span> + str[i++] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> decimal = <span class="number">0.0</span>, digit = <span class="number">1.0</span>; <span class="comment">// decimal part, digit count the digits of decimal part</span></span><br><span class="line">    <span class="keyword">if</span> (str[i] == <span class="string">&#x27;.&#x27;</span>) &#123;<span class="comment">// if there is a dot there is decimal part</span></span><br><span class="line">        i ++;</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">isdigit</span>(str[i])) &#123; <span class="comment">// sum up the decimal part</span></span><br><span class="line">            digit /= <span class="number">10</span>;</span><br><span class="line">            decimal += (str[i++] - <span class="string">&#x27;0&#x27;</span>) * digit;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> integer + decimal; <span class="comment">// the decimal plus integer is the final answer</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Calculation::calculate</span><span class="params">(std::string &amp;formula)</span> </span>&#123;</span><br><span class="line">    isLegal = <span class="literal">true</span>;</span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    std::stack&lt;<span class="type">char</span>&gt; operators;</span><br><span class="line">    std::stack&lt;<span class="type">double</span>&gt; operands;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> len = formula.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len <span class="keyword">and</span> isLegal; i++) &#123; <span class="comment">// if it&#x27;s found illegal in the middle, terminate the calculation</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(formula[i])) &#123; <span class="comment">// if is number, store it in operands stack</span></span><br><span class="line">            operands.<span class="built_in">push</span>(<span class="built_in">getNum</span>(formula, i)); <span class="comment">// the number could be decimal with dot</span></span><br><span class="line">            i --;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">isOperator</span>(formula[i])) &#123;</span><br><span class="line">            <span class="keyword">if</span> (formula[i] == <span class="string">&#x27;-&#x27;</span> <span class="built_in">and</span> (i == <span class="number">0</span> <span class="keyword">or</span> formula[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span> <span class="keyword">or</span> formula[i - <span class="number">1</span>] == <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">or</span> formula[i - <span class="number">1</span>] == <span class="string">&#x27;[&#x27;</span>)) &#123;</span><br><span class="line">                formula[i] = <span class="string">&#x27;_&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ((!operators.<span class="built_in">empty</span>() <span class="built_in">and</span> (precedence[formula[i]] &lt;= precedence[operators.<span class="built_in">top</span>()]</span><br><span class="line">                <span class="built_in">or</span> (operators.<span class="built_in">top</span>() == <span class="string">&#x27;(&#x27;</span>) <span class="keyword">or</span> operators.<span class="built_in">top</span>() == <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">or</span> operators.<span class="built_in">top</span>() == <span class="string">&#x27;[&#x27;</span>))</span><br><span class="line">                <span class="keyword">or</span> operators.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                operators.<span class="built_in">push</span>(formula[i]); <span class="comment">// if it&#x27;s empty or precedence not lower than the top of operators</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (!operators.<span class="built_in">empty</span>() <span class="keyword">and</span> precedence[formula[i]] &gt; precedence[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal</span><br><span class="line">                        <span class="keyword">and</span> operators.<span class="built_in">top</span>() != <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">and</span> operators.<span class="built_in">top</span>() != <span class="string">&#x27;[&#x27;</span> <span class="keyword">and</span> operators.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                    <span class="comment">// the operator with lower precedence number should be calculated first. e.g. * &gt; +</span></span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; parameters[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal; ++j) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123; <span class="comment">// if there is no enough parameters for the operator</span></span><br><span class="line">                            isLegal = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        para[j] = operands.<span class="built_in">top</span>();</span><br><span class="line">                        operands.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">                        operands.<span class="built_in">push</span>(<span class="built_in">operation</span>(operators.<span class="built_in">top</span>(), para[<span class="number">0</span>], para[<span class="number">1</span>]));</span><br><span class="line">                        operators.<span class="built_in">pop</span>();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                operators.<span class="built_in">push</span>(formula[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (formula[i] == <span class="string">&#x27;(&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;&#123;&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">            operators.<span class="built_in">push</span>(formula[i]);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (formula[i] == <span class="string">&#x27;)&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;&#125;&#x27;</span> <span class="keyword">or</span> formula[i] == <span class="string">&#x27;]&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (isLegal) &#123; <span class="comment">// pop the operator one by one until find the matching brackets</span></span><br><span class="line">                <span class="keyword">if</span> (operators.<span class="built_in">empty</span>()) &#123; <span class="comment">// if the stack is empty but the right bracket is still not matched</span></span><br><span class="line">                    isLegal = <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (operators.<span class="built_in">top</span>() != brackets[formula[i]]) &#123; <span class="comment">// if not match, pop and calculate</span></span><br><span class="line">                        <span class="keyword">if</span> (<span class="built_in">isOperator</span>(operators.<span class="built_in">top</span>())) &#123;</span><br><span class="line">                            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; parameters[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal; ++j) &#123;</span><br><span class="line">                                <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                                    isLegal = <span class="literal">false</span>;</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                                para[j] = operands.<span class="built_in">top</span>();</span><br><span class="line">                                operands.<span class="built_in">pop</span>();</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">                                operands.<span class="built_in">push</span>(<span class="built_in">operation</span>(operators.<span class="built_in">top</span>(), para[<span class="number">0</span>], para[<span class="number">1</span>]));</span><br><span class="line">                                operators.<span class="built_in">pop</span>();</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123; <span class="comment">// if matches other type of the brackets</span></span><br><span class="line">                            isLegal = <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123; <span class="comment">// found the matching brackets and exists</span></span><br><span class="line">                        operators.<span class="built_in">pop</span>();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!operators.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">                isLegal = <span class="literal">false</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; parameters[operators.<span class="built_in">top</span>()] <span class="keyword">and</span> isLegal; ++j) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (operands.<span class="built_in">empty</span>()) &#123; <span class="comment">// if there is no enough parameters for the operator</span></span><br><span class="line">                        isLegal = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    para[j] = operands.<span class="built_in">top</span>();</span><br><span class="line">                    operands.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (isLegal) &#123;</span><br><span class="line">                    operands.<span class="built_in">push</span>(<span class="built_in">operation</span>(operators.<span class="built_in">top</span>(), para[<span class="number">0</span>], para[<span class="number">1</span>]));</span><br><span class="line">                    operators.<span class="built_in">pop</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isLegal <span class="keyword">and</span> operands.<span class="built_in">size</span>() == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(operators.<span class="built_in">empty</span>())</span><br><span class="line">            ans = operands.<span class="built_in">top</span>();</span><br><span class="line">        <span class="keyword">else</span> isLegal = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">Calculation::operation</span><span class="params">(<span class="type">char</span> opt, <span class="type">double</span> parameter1, <span class="type">double</span> parameter2)</span> </span>&#123; <span class="comment">// assign the operator with operation</span></span><br><span class="line">    <span class="type">double</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">switch</span> (opt) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">            ans = parameter1 + parameter2;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            ans = parameter2 - parameter1; <span class="comment">// let the second one be subtracted number because stack reverse the order</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">            ans = parameter1 * parameter2;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">            ans = parameter2 / parameter1;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;_&#x27;</span>:</span><br><span class="line">            ans = <span class="number">0</span> - parameter1;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Calculation::isOperator</span><span class="params">(<span class="type">char</span> opt)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> opt == <span class="string">&#x27;+&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;-&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;*&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;/&#x27;</span> <span class="keyword">or</span> opt == <span class="string">&#x27;_&#x27;</span>; <span class="comment">// brackets are judged separately</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="main-cpp"><a href="#main-cpp" class="headerlink" title="main.cpp"></a>main.cpp</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Calculation.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Input a formula of elementary arithmetic(e.g. &#123;[(3+2)*(-1)+2/3-5]/2+2&#125;+100 ) : &quot;</span>;</span><br><span class="line">    std::string formula;</span><br><span class="line">    std::cin &gt;&gt; formula;</span><br><span class="line">    <span class="type">double</span> ans;</span><br><span class="line">    Calculation::<span class="built_in">init</span>();</span><br><span class="line">    ans = Calculation::<span class="built_in">calculate</span>(formula);</span><br><span class="line">    <span class="keyword">if</span> (Calculation::isLegal) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;The answer is: &quot;</span> &lt;&lt; ans &lt;&lt; std::endl;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Illegal expression&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Data Structure </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Budget HDU-6575</title>
      <link href="/2019/11/11/Budget-HDU-6575/"/>
      <url>/2019/11/11/Budget-HDU-6575/</url>
      
        <content type="html"><![CDATA[<h1 id="Budget"><a href="#Budget" class="headerlink" title="Budget"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6575">Budget</a></h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>Avin’s company has many ongoing projects with different budgets. His company records the budgets using numbers rounded to 3 digits after the decimal place. However, the company is updating the system and all budgets will be rounded to 2 digits after the decimal place. For example, 1.004 will be rounded down<br>to 1.00 while 1.995 will be rounded up to 2.00. Avin wants to know the difference of the total budget caused by the update.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The first line contains an integer n (1 ≤ n ≤ 1, 000). The second line contains n decimals, and the i-th decimal ai (0 ≤ ai ≤ 1e18) represents the budget of the i -th project. All decimals are rounded to 3 digits.</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print the difference rounded to 3 digits..</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1.001</span><br><span class="line">1</span><br><span class="line">0.999</span><br><span class="line">2</span><br><span class="line">1.001 0.999</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-0.001</span><br><span class="line">0.001</span><br><span class="line">0.000</span><br></pre></td></tr></table></figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><p>This is a rounding problem. Since it has only three number after the point, you just need to find the last number $n$ and if it’s more than four, the company over calculate it’s money by $10-n$ , if it’s equal or less than four, the company miss calculate the money by $n$. So the total difference is the over calculated money - the miss calculated money.</p><p><strong>Note: you better not to calculating the floating number many times because there might be a precision problem.</strong> At first I time all the number to 1e2, let the computer automatically do the rounding for me. However there is always a precision problem and I don’t know how to fix. So I changed the way.</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n;i ++)&#123;</span><br><span class="line">string a;</span><br><span class="line">cin &gt;&gt; a;</span><br><span class="line"><span class="type">int</span> l = a.<span class="built_in">length</span>();</span><br><span class="line"><span class="keyword">if</span>(a[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span> &lt; <span class="number">5</span> ) <span class="comment">// miss calculated</span></span><br><span class="line">sum -= a[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">else</span> sum += (<span class="number">10</span> - (a[l - <span class="number">1</span>] - <span class="string">&#x27;0&#x27;</span>)); <span class="comment">// over calculated</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>, sum * <span class="number">1.0</span> / <span class="number">1000</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HDU </tag>
            
            <tag> Problem </tag>
            
            <tag> Logic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>World Cup</title>
      <link href="/2019/10/20/World-Cup/"/>
      <url>/2019/10/20/World-Cup/</url>
      
        <content type="html"><![CDATA[<h2 id="Problem-Description"><a href="#Problem-Description" class="headerlink" title="Problem Description"></a><a href="https://codeforces.com/gym/101775/problem/M">Problem Description</a></h2><p>The 2018 World Cup will be hosted in Russia. 32 national teams will be divided into 8 groups. Each group consists of 4 teams. In group matches, each pair (unordered) of teams in the group will have a match.</p><span id="more"></span><p>Top 2 teams with the highest score in each group will advance to eighth-finals. Winners of each eighth-final will advance to quarter-finals. Then, the winners of each quarter-final will advance to semi-finals. Eventually, the World Champion will be the winner of the World Final which is played between the two winners of the semi-finals.</p><p>Each match is labeled with a match ID sequenced from 1 to 63, with group matches followed by eighth-final matches followed by quarter-final matches followed by semi-finals matches and finally the final match.</p><p>Zhuojie is going to watch the 2018 World Cup. Since the World Champion of ACM-ICPC is very rich, he decides to spend 0.01% of his daily salary to buy tickets. However, there are only match IDs on the tickets and the prices are missing. Can you calculate how much Google pays Zhuojie every workday? Note that Zhuojie can buy multiple tickets for one match.</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The input starts with one line containing exactly one integer <em>T</em>, the number of test cases.</p><p>Each test case contains 3 lines. The first line contains 5 integers, indicating the ticket price for group match, eighth-final match, quarter-final match, semi-final match and the final match. The second line contains one integer <em>N</em>, the number of tickets Zhuojie buys. The third line contains <em>N</em> integers, each indicating the match ID on the ticket.</p><ul><li>1 ≤ <em>T</em> ≤ 100.</li><li>1 ≤ <em>N</em> ≤ 105.</li><li><img src="https://vj.z180.cn/3c8ec44c47388d1d1af338be6335adb2?v=1571201984" alt="img">.</li><li><img src="https://vj.z180.cn/c855342a7353e6a8e76049969985a9ff?v=1571201984" alt="img">.</li></ul><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>For each test case, output one line containing “Case #x: y” where x is the test case number (starting from 1) and y is daily salary of Zhuojie.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="Input-1"><a href="#Input-1" class="headerlink" title="Input"></a>Input</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">111 12 13 14 1521 49</span><br></pre></td></tr></table></figure><h4 id="Output-1"><a href="#Output-1" class="headerlink" title="Output"></a>Output</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Case #1: 230000</span><br></pre></td></tr></table></figure><h2 id="Analysis-the-Problem"><a href="#Analysis-the-Problem" class="headerlink" title="Analysis the Problem"></a>Analysis the Problem</h2><p>For me, the core of the problem is to figure out how the matches carry on exactly. It’s the hardest part for me. And finally the rules:</p><table><thead><tr><th align="center">contest</th><th align="center">Group</th><th align="center">Eighth-final</th><th align="center">Quarter-final</th><th align="center">Semi-final</th><th align="center">Final</th></tr></thead><tbody><tr><td align="center">number</td><td align="center">48</td><td align="center">8</td><td align="center">4</td><td align="center">2</td><td align="center">1</td></tr></tbody></table><p>So we just need to know which level of contest tickets he bought and sum up the money.</p><p>Long Long is needed.</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> t;</span><br><span class="line">cin &gt;&gt; t;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> b[<span class="number">10</span>];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> n;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> count, temp;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> j = <span class="number">0</span>;j &lt; t;j ++)&#123;</span><br><span class="line">count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>; i ++)&#123;</span><br><span class="line">cin &gt;&gt; b[i];</span><br><span class="line">&#125;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">long</span> <span class="type">long</span> i = <span class="number">0</span>;i &lt; n; i ++)&#123;</span><br><span class="line">cin &gt;&gt; temp;</span><br><span class="line"><span class="keyword">if</span>(temp &lt;= <span class="number">48</span>) count += b[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(temp &lt;= <span class="number">56</span>) count += b[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(temp &lt;= <span class="number">60</span>) count += b[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(temp &lt;= <span class="number">62</span>) count += b[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">else</span> count += b[<span class="number">4</span>];</span><br><span class="line">&#125;</span><br><span class="line">cout &lt;&lt; <span class="string">&quot;Case #&quot;</span> &lt;&lt; j +<span class="number">1</span> &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; count  &lt;&lt; <span class="string">&quot;0000&quot;</span> &lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ACM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Force </tag>
            
            <tag> GYM </tag>
            
            <tag> CodeForces </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Change Blog Theme</title>
      <link href="/2019/08/15/Change-Blog-Theme/"/>
      <url>/2019/08/15/Change-Blog-Theme/</url>
      
        <content type="html"><![CDATA[<p>Last time I‘ve talked about how to build your own blog, however, the original theme might not very beautiful to you. So this time I would write how to change your blog theme and others.</p><span id="more"></span><p>The first thing is to find a beautiful theme of hexo, find it’s repo on github.</p><p><img src="https://s2.ax1x.com/2019/08/15/mVr7yF.png" alt="img"></p><p>This is the theme my blog based on. Then click the green button <strong>Clone or download</strong>. Then copy the url.</p><p><img src="https://s2.ax1x.com/2019/08/15/mV6Sqe.png" alt="img"></p><p>Click the button to copy the url.</p><p>Then open the Cmder, find the directory of your blog and type:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">λ git clone url</span><br></pre></td></tr></table></figure><p>Now you can find the file of the blog under the file themes. Remember the name and open the _config.yml and find themes.</p><p><img src="https://s2.ax1x.com/2019/08/15/mVcvHe.png" alt="img"></p><p>Change landscape into your theme name. hexo s to preview and hexo g and hexo d.</p><p>If you are still not very satisfy with your theme, you can looks in its files and modify the css or js files.</p>]]></content>
      
      
      <categories>
          
          <category> Blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> theme </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Logic-proposition</title>
      <link href="/2019/08/12/Logic-proposition/"/>
      <url>/2019/08/12/Logic-proposition/</url>
      
        <content type="html"><![CDATA[<p>This is a homework of Discrete Math course and it happened a long time ago. At first, I think of a violent way that is to list all the possible situations. Somehow, I still can’t achieve this because of my confusing logic. Then a friend of mine told me an algorithm that is Shunting Yard Algorithm.</p><span id="more"></span><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p> This document is talking about how to use logic_proposition.py the calculate the Well-Formed Formula</p><h3 id="1-Usage"><a href="#1-Usage" class="headerlink" title="1 Usage"></a>1 Usage</h3><p> 1.1 input an expression</p><p> 1.2 if it is not a valid WFF, it will return false</p><p> 1.3 if it is valid, it will calculate the layer, the type, the true assignment and the false assingment of the expression</p><h3 id="2-Example"><a href="#2-Example" class="headerlink" title="2 Example"></a>2 Example</h3><p> 2.1</p><p> Please input a formula:¬(¬a∧p)↔a</p><p> [‘a’, ‘¬’, ‘p’, ‘∧’, ‘¬’, ‘a’, ‘↔’]</p><p> The type of the expression is :Satisfiable</p><p> True assignment:[{‘p’: ‘0’, ‘a’: ‘1’}, {‘p’: ‘1’, ‘a’: ‘0’}, {‘p’: ‘1’, ‘a’: ‘1’}]</p><p> False assignment:[{‘p’: ‘0’, ‘a’: ‘0’}]</p><p> The layer of this is : 4</p><p> 2.2</p><p> Please input a formula:¬(¬a∧p)↔</p><p> This is not a valid expression</p><h3 id="3-Method"><a href="#3-Method" class="headerlink" title="3 Method"></a>3 Method</h3><p> 3.1 convert the expression in to a rpn expressioin</p><p> This will find the unmatched ‘(‘ and ‘)’</p><p> 3.2 Then list all the possible assignments using “plus 1 at a time” method. Change the binary numer into a decimal.</p><p> 3.3 Then calculate the answer and layer</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line">precedence = &#123;<span class="string">&#x27;¬&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;∧&#x27;</span>:<span class="number">2</span>, <span class="string">&#x27;∨&#x27;</span>:<span class="number">3</span>, <span class="string">&#x27;→&#x27;</span>: <span class="number">4</span>, <span class="string">&#x27;↔&#x27;</span>: <span class="number">5</span>&#125; <span class="comment">#define precedence of operator</span></span><br><span class="line"></span><br><span class="line">propo = <span class="built_in">set</span>() <span class="comment">#store all the proposition</span></span><br><span class="line">Table = <span class="built_in">list</span>() <span class="comment">#all the possible answer</span></span><br><span class="line">truthn = [] <span class="comment">#all the answer that make the formula true</span></span><br><span class="line">falsen = [] <span class="comment">#all the answer that make the formula false</span></span><br><span class="line"></span><br><span class="line">is_legal = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parameter</span>(<span class="params">operator</span>):  <span class="comment">#check how many parameters does the operator need</span></span><br><span class="line">    <span class="keyword">if</span> operator == <span class="string">&#x27;¬&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> operator <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rules</span>(<span class="params">operator, parameter1, parameter2 = <span class="number">1</span></span>): <span class="comment"># how the operator works</span></span><br><span class="line">    <span class="comment">#print(parameter1)</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> operator == <span class="string">&#x27;∧&#x27;</span>: </span><br><span class="line">        result = parameter1 <span class="keyword">and</span> parameter2</span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;∨&#x27;</span>:</span><br><span class="line">        result = parameter1 <span class="keyword">or</span> parameter2</span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;→&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> parameter1 == <span class="number">1</span> <span class="keyword">and</span> parameter2 == <span class="number">0</span>:</span><br><span class="line">            result = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;↔&#x27;</span>:</span><br><span class="line">        <span class="keyword">if</span> parameter1 == parameter2:</span><br><span class="line">            result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> operator == <span class="string">&#x27;¬&#x27;</span>:</span><br><span class="line">        <span class="comment">#print(result)</span></span><br><span class="line">        result = <span class="built_in">int</span>(<span class="keyword">not</span> parameter1)</span><br><span class="line">        <span class="comment">#print(result)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(result)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shuntingYard</span>(<span class="params">formula</span>):</span><br><span class="line">    l = <span class="built_in">len</span>(formula) </span><br><span class="line">    rpn = [] <span class="comment">#the translated suffix expression rpn</span></span><br><span class="line">    operator = [] <span class="comment"># temply store  the operator</span></span><br><span class="line">    is_legal = <span class="number">1</span> <span class="comment"># the formula is legal</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span> (l):</span><br><span class="line">        <span class="keyword">if</span> formula[i].isalpha(): <span class="comment">#check for alphabet</span></span><br><span class="line">            rpn.append(formula[i]) <span class="comment">#if is ,then store in the rpn expression</span></span><br><span class="line">            propo.add(formula[i])  <span class="comment">#get the set of all proposition</span></span><br><span class="line">        <span class="keyword">elif</span> formula[i] <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>]: <span class="comment">#if is right precedence</span></span><br><span class="line">            <span class="keyword">while</span> operator != [] <span class="keyword">and</span> operator[-<span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span> <span class="keyword">and</span> precedence[formula[i]] &gt;= precedence[operator[-<span class="number">1</span>]]:</span><br><span class="line">                rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">            operator.append(formula[i])</span><br><span class="line">        <span class="keyword">elif</span> formula[i] == <span class="string">&#x27;¬&#x27;</span>: <span class="comment">#if is left precedence</span></span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">            <span class="keyword">while</span> operator != [] <span class="keyword">and</span> operator[-<span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span> <span class="keyword">and</span> precedence[formula[i]] &gt; precedence[operator[-<span class="number">1</span>]]:</span><br><span class="line">                rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">            operator.append(formula[i])</span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">        <span class="keyword">elif</span> formula[i] == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            operator.append(formula[i])</span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">        <span class="keyword">elif</span> formula[i] == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            <span class="keyword">while</span> operator != [] <span class="keyword">and</span> operator[-<span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">                <span class="comment">#print(operator[-1])</span></span><br><span class="line">                <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> operator == []: <span class="comment">#if there is no (</span></span><br><span class="line">                    is_legal = <span class="number">0</span> <span class="comment">#the formula is not legal</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="comment">#print(operator)</span></span><br><span class="line">            <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            is_legal = <span class="number">0</span></span><br><span class="line">    <span class="comment">#print(operator)</span></span><br><span class="line">    <span class="keyword">while</span> operator != []:</span><br><span class="line">        <span class="keyword">if</span> operator[-<span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>: <span class="comment">#there is no )</span></span><br><span class="line">            is_legal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        rpn.append(operator[-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">del</span> operator[-<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> rpn, is_legal <span class="comment"># rpn string, is_legal int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rpn_formula</span>(<span class="params">formula</span>):</span><br><span class="line">    i = -<span class="number">1</span></span><br><span class="line">    is_legal = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> -i &lt; <span class="built_in">len</span>(formula) <span class="keyword">and</span> formula[i] != <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">        i -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> formula[i] <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>, <span class="string">&#x27;¬&#x27;</span>]:</span><br><span class="line">        is_legal = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> is_legal</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">layer</span>(<span class="params">rpn</span>):</span><br><span class="line">    char = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(rpn)):</span><br><span class="line">        <span class="keyword">if</span> rpn[i].isalpha():</span><br><span class="line">            char.append(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> parameter(rpn[i]) == <span class="number">1</span>:</span><br><span class="line">                temp = char[-<span class="number">1</span>] + <span class="number">1</span></span><br><span class="line">                <span class="keyword">del</span> char[-<span class="number">1</span>]</span><br><span class="line">                char.append(temp)</span><br><span class="line">            <span class="keyword">if</span> parameter(rpn[i]) == <span class="number">2</span>:</span><br><span class="line">                temp = <span class="built_in">max</span>(char[-<span class="number">1</span>], char[-<span class="number">2</span>]) + <span class="number">1</span></span><br><span class="line">                <span class="keyword">del</span> char[-<span class="number">2</span>:]</span><br><span class="line">                char.append(temp)</span><br><span class="line">    <span class="keyword">return</span> char[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cal</span>(<span class="params">rpn, value</span>):</span><br><span class="line">    l = <span class="built_in">len</span>(rpn)</span><br><span class="line">    proposition = [] <span class="comment">#temply store the result the some propostions and even the final answer</span></span><br><span class="line">    result = <span class="number">0</span> <span class="comment">#temply store the result of one calculation</span></span><br><span class="line">    is_legal = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l):</span><br><span class="line">        <span class="comment">#print(rpn[i])</span></span><br><span class="line">        <span class="keyword">if</span> rpn[i] <span class="keyword">in</span> [<span class="string">&#x27;∧&#x27;</span>,<span class="string">&#x27;∨&#x27;</span>,<span class="string">&#x27;¬&#x27;</span>, <span class="string">&#x27;→&#x27;</span>, <span class="string">&#x27;↔&#x27;</span>]:</span><br><span class="line">            n = parameter(rpn[i]) <span class="comment">#the number of parameters that the operator need</span></span><br><span class="line">            <span class="comment">#print(n)</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(proposition) &lt; n:</span><br><span class="line">                is_legal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a = []</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                    <span class="comment">#print(proposition)</span></span><br><span class="line">                    <span class="comment">#print(proposition)</span></span><br><span class="line">                    a.append(proposition[-<span class="number">1</span>])</span><br><span class="line">                    <span class="comment">#print(j)</span></span><br><span class="line">                    <span class="comment">#print(a[j])</span></span><br><span class="line">                    <span class="keyword">del</span> proposition[-<span class="number">1</span>]</span><br><span class="line">                <span class="comment">#print(a) </span></span><br><span class="line">                <span class="comment">#print(a[0])</span></span><br><span class="line">                result = rules(rpn[i], <span class="built_in">eval</span>(a[<span class="number">0</span>]), <span class="built_in">eval</span>(a[<span class="number">1</span>])) <span class="keyword">if</span> n == <span class="number">2</span> <span class="keyword">else</span> rules(rpn[i], <span class="built_in">eval</span>(a[<span class="number">0</span>]))</span><br><span class="line">                <span class="comment">#print(&quot;the answer is&#123;&#125;&quot;.format(result))</span></span><br><span class="line">                proposition.append(result) </span><br><span class="line">        <span class="keyword">elif</span> rpn[i].isalpha():</span><br><span class="line">            proposition.append(value[rpn[i]])</span><br><span class="line">            <span class="comment">#print(&quot;i:&#123;&#125; rpn[i] &#123;&#125;&quot;.format(i,value[rpn[i]]))</span></span><br><span class="line">            <span class="comment">#print(proposition)</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(proposition) &gt; <span class="number">1</span>:</span><br><span class="line">        is_legal = <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = proposition[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> result, is_legal</span><br><span class="line"></span><br><span class="line"><span class="comment">#to make the binary number increase by one at a time, change them into decimal numbers and increase 1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">truthTable</span>(<span class="params">num, rpn</span>):<span class="comment">#num is the length of the set</span></span><br><span class="line">    numt = <span class="number">2</span> ** num <span class="comment">#n is the last occasion of the truth Table</span></span><br><span class="line">    <span class="comment">#print(numt)</span></span><br><span class="line">    proposi = <span class="built_in">list</span>(propo) <span class="comment">#change the propo into list</span></span><br><span class="line">    <span class="comment">#print(proposi)</span></span><br><span class="line">    temp = <span class="built_in">list</span>()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numt):</span><br><span class="line">        <span class="comment">#print(&quot;i &#123;&#125;&quot;.format(i))</span></span><br><span class="line">        b = <span class="string">&#x27;&#123;:0100b&#125;&#x27;</span>.<span class="built_in">format</span>(i)<span class="comment">#set the length of the changed binary number to 100; value is a string </span></span><br><span class="line">        <span class="comment">#print(&quot;b &#123;&#125;&quot;.format(b))</span></span><br><span class="line">        <span class="comment">#print(-num - 1)</span></span><br><span class="line">        b = b[-num:] <span class="comment">#cut off the unneeded first some 0s and leave the rest things from -1 to -num</span></span><br><span class="line">        <span class="comment">#print(&quot;b &#123;&#125;&quot;.format(b))</span></span><br><span class="line">        temp = <span class="built_in">list</span>(b) <span class="comment">#split the string into list</span></span><br><span class="line">        <span class="comment">#print(temp)</span></span><br><span class="line">        value = <span class="built_in">dict</span>(<span class="built_in">zip</span>(proposi, temp)) <span class="comment">#match the values and the propositions</span></span><br><span class="line">        <span class="comment">#print(value)</span></span><br><span class="line">        ans = cal(rpn, value)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment">#print(ans)</span></span><br><span class="line">        <span class="keyword">if</span> cal(rpn, value)[<span class="number">1</span>] != <span class="number">0</span>:</span><br><span class="line">            <span class="comment">#print(ans)</span></span><br><span class="line">            Table.append(ans) <span class="comment">#calculate the answer and store in the list</span></span><br><span class="line">            <span class="comment">#print(Table)</span></span><br><span class="line">            <span class="keyword">if</span> ans == <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">                <span class="comment">#print(falsen)</span></span><br><span class="line">                falsen.append(value)</span><br><span class="line">                <span class="comment">#print(falsen)</span></span><br><span class="line">            <span class="keyword">elif</span> ans == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                truthn.append(value)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">global</span> is_legal</span><br><span class="line">            is_legal = <span class="number">0</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#def true_false()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    formula = <span class="built_in">input</span>(<span class="string">&quot;Please input a formula:&quot;</span>)</span><br><span class="line">    rpn = shuntingYard(formula)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment">#print(rpn)</span></span><br><span class="line">    is_legal = shuntingYard(formula)[<span class="number">1</span>]</span><br><span class="line">    is_legal = rpn_formula(rpn)</span><br><span class="line">    <span class="comment">#print(is_legal)</span></span><br><span class="line">    <span class="comment">#print(len(propo))</span></span><br><span class="line">    <span class="comment">#print(propo)</span></span><br><span class="line">    <span class="keyword">if</span> propo != <span class="built_in">set</span>() <span class="keyword">and</span> is_legal == <span class="number">1</span>:</span><br><span class="line">        truthTable(<span class="built_in">len</span>(propo), rpn)</span><br><span class="line">        <span class="keyword">if</span> is_legal == <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;The type of the expression is :&quot;</span>, end = <span class="string">&quot;&quot;</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;0&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> Table:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Tautology&quot;</span>)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">&#x27;1&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> Table:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Contradictory&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;Satisfiable&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;True assignment:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(truthn))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;False assignment:&#123;&#125;&quot;</span>.<span class="built_in">format</span>(falsen))</span><br><span class="line">            layers = layer(rpn)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;The layer of this is : &#123;&#125;&quot;</span>.<span class="built_in">format</span>(layers))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;This is not a valid expression&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;This is not a valid expression&quot;</span>)</span><br><span class="line">        </span><br><span class="line">main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Discrete Math </category>
          
      </categories>
      
      
        <tags>
            
            <tag> logic </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>404</title>
      <link href="//404.html"/>
      <url>//404.html</url>
      
        <content type="html"><![CDATA[<!DOCTYPE HTML><html><head>  <meta http-equiv="content-type" content="text/html;charset=utf-8;"/>  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />  <meta name="robots" content="all" />  <meta name="robots" content="index,follow"/></head><body>  <script type="text/javascript" src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js" charset="utf-8" homePageUrl="https://blog.sqiang.net" homePageName="返回博客首页"></script></body></html>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>art</title>
      <link href="/art/index.html"/>
      <url>/art/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>links</title>
      <link href="/links/index.html"/>
      <url>/links/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>tags</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
